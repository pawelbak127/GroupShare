"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/groups/[id]/members/route";
exports.ids = ["app/api/groups/[id]/members/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute&page=%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute&page=%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_bacze_Project_GroupShare_groupshare_project_src_app_api_groups_id_members_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/groups/[id]/members/route.js */ \"(rsc)/./src/app/api/groups/[id]/members/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/groups/[id]/members/route\",\n        pathname: \"/api/groups/[id]/members\",\n        filename: \"route\",\n        bundlePath: \"app/api/groups/[id]/members/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\bacze\\\\Project\\\\GroupShare\\\\groupshare-project\\\\src\\\\app\\\\api\\\\groups\\\\[id]\\\\members\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_bacze_Project_GroupShare_groupshare_project_src_app_api_groups_id_members_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/groups/[id]/members/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZncm91cHMlMkYlNUJpZCU1RCUyRm1lbWJlcnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmdyb3VwcyUyRiU1QmlkJTVEJTJGbWVtYmVycyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmdyb3VwcyUyRiU1QmlkJTVEJTJGbWVtYmVycyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNiYWN6ZSU1Q1Byb2plY3QlNUNHcm91cFNoYXJlJTVDZ3JvdXBzaGFyZS1wcm9qZWN0JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNiYWN6ZSU1Q1Byb2plY3QlNUNHcm91cFNoYXJlJTVDZ3JvdXBzaGFyZS1wcm9qZWN0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN5RDtBQUN0STtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyb3Vwc2hhcmUtcHJvamVjdC8/ZTVmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxiYWN6ZVxcXFxQcm9qZWN0XFxcXEdyb3VwU2hhcmVcXFxcZ3JvdXBzaGFyZS1wcm9qZWN0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGdyb3Vwc1xcXFxbaWRdXFxcXG1lbWJlcnNcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dyb3Vwcy9baWRdL21lbWJlcnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ncm91cHMvW2lkXS9tZW1iZXJzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9ncm91cHMvW2lkXS9tZW1iZXJzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcYmFjemVcXFxcUHJvamVjdFxcXFxHcm91cFNoYXJlXFxcXGdyb3Vwc2hhcmUtcHJvamVjdFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxncm91cHNcXFxcW2lkXVxcXFxtZW1iZXJzXFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9ncm91cHMvW2lkXS9tZW1iZXJzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute&page=%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/groups/[id]/members/route.js":
/*!**************************************************!*\
  !*** ./src/app/api/groups/[id]/members/route.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/currentUser.js\");\n/* harmony import */ var _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database/supabase-admin-client */ \"(rsc)/./src/lib/database/supabase-admin-client.js\");\n// src/app/api/groups/[id]/members/route.js\n\n\n\n/**\r\n * GET /api/groups/[id]/members\r\n * Pobiera członków grupy\r\n */ async function GET(request, { params }) {\n    try {\n        const { id: groupId } = params;\n        // Sprawdź autentykację\n        const user = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Pobierz profil użytkownika\n        const { data: userProfile, error: profileError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"user_profiles\").select(\"id\").eq(\"external_auth_id\", user.id).maybeSingle(); // używamy maybeSingle zamiast single\n        if (profileError && profileError.code !== \"PGRST116\") {\n            console.error(\"Error fetching user profile:\", profileError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch user profile\",\n                details: profileError\n            }, {\n                status: 500\n            });\n        }\n        if (!userProfile) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User profile not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Sprawdź, czy użytkownik należy do grupy\n        const { data: membership, error: membershipError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").select(\"role, status\").eq(\"user_id\", userProfile.id).eq(\"group_id\", groupId).maybeSingle();\n        // Sprawdź, czy użytkownik jest właścicielem grupy\n        const { data: group, error: groupError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"groups\").select(\"owner_id\").eq(\"id\", groupId).single();\n        if (groupError) {\n            console.error(\"Error fetching group:\", groupError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Group not found\",\n                details: groupError\n            }, {\n                status: 404\n            });\n        }\n        const isOwner = group.owner_id === userProfile.id;\n        const isMember = membership && membership.status === \"active\";\n        // Sprawdź uprawnienia - tylko członkowie grupy mogą widzieć innych członków\n        if (!isOwner && !isMember) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"You do not have permission to view group members\"\n            }, {\n                status: 403\n            });\n        }\n        // Podejście alternatywne - najpierw pobieramy członków bez zagnieżdżania\n        const { data: members, error: membersError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").select(\"id, user_id, role, status, joined_at, created_at\").eq(\"group_id\", groupId).eq(\"status\", \"active\"); // tylko aktywni członkowie\n        if (membersError) {\n            console.error(\"Error fetching group members:\", membersError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch group members\",\n                details: membersError\n            }, {\n                status: 500\n            });\n        }\n        // Teraz pobieramy dane profilowe dla każdego członka osobno\n        const membersWithProfiles = await Promise.all(members.map(async (member)=>{\n            const { data: userProfile, error: userError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"user_profiles\").select(\"id, display_name, avatar_url, email, verification_level, rating_avg\").eq(\"id\", member.user_id).single();\n            if (userError) {\n                console.warn(`Error fetching profile for user ${member.user_id}:`, userError);\n                return {\n                    ...member,\n                    user: null,\n                    isOwner: member.user_id === group.owner_id\n                };\n            }\n            return {\n                ...member,\n                user: userProfile,\n                isOwner: member.user_id === group.owner_id\n            };\n        }));\n        console.log(`Successfully fetched ${membersWithProfiles.length} members for group ${groupId}`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(membersWithProfiles);\n    } catch (error) {\n        console.error(\"Unexpected error in GET /api/groups/[id]/members:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"An unexpected error occurred\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n/**\r\n * POST /api/groups/[id]/members\r\n * Dodaje nowego członka do grupy\r\n */ async function POST(request, { params }) {\n    try {\n        const { id: groupId } = params;\n        // Sprawdź autentykację\n        const user = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Pobierz dane z żądania\n        const { email, role = \"member\", userId } = await request.json();\n        if (!email && !userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Either email or userId is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Pobierz profil użytkownika\n        const { data: userProfile, error: profileError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"user_profiles\").select(\"id\").eq(\"external_auth_id\", user.id).maybeSingle();\n        if (profileError && profileError.code !== \"PGRST116\") {\n            console.error(\"Error fetching user profile:\", profileError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch user profile\",\n                details: profileError\n            }, {\n                status: 500\n            });\n        }\n        if (!userProfile) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User profile not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Sprawdź, czy użytkownik ma uprawnienia do dodawania członków\n        const { data: group, error: groupError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"groups\").select(\"owner_id\").eq(\"id\", groupId).single();\n        if (groupError) {\n            console.error(\"Error fetching group:\", groupError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Group not found\",\n                details: groupError\n            }, {\n                status: 404\n            });\n        }\n        const isOwner = group.owner_id === userProfile.id;\n        if (!isOwner) {\n            // Sprawdź, czy użytkownik jest administratorem\n            const { data: membership, error: membershipError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").select(\"role\").eq(\"user_id\", userProfile.id).eq(\"group_id\", groupId).eq(\"status\", \"active\").eq(\"role\", \"admin\").maybeSingle();\n            if (membershipError || !membership) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"You do not have permission to add members to this group\"\n                }, {\n                    status: 403\n                });\n            }\n        }\n        // Znajdź ID użytkownika do dodania\n        let targetUserId = userId;\n        if (!targetUserId && email) {\n            // Znajdź użytkownika po adresie email\n            const { data: targetUser, error: targetUserError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"user_profiles\").select(\"id\").eq(\"email\", email).maybeSingle();\n            if (targetUserError && targetUserError.code !== \"PGRST116\") {\n                console.error(\"Error finding user by email:\", targetUserError);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Failed to find user by email\",\n                    details: targetUserError\n                }, {\n                    status: 500\n                });\n            }\n            if (!targetUser) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"User with this email not found\"\n                }, {\n                    status: 404\n                });\n            }\n            targetUserId = targetUser.id;\n        }\n        // Sprawdź, czy użytkownik już jest członkiem grupy\n        const { data: existingMember, error: existingMemberError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").select(\"id, status\").eq(\"user_id\", targetUserId).eq(\"group_id\", groupId).maybeSingle();\n        if (existingMember) {\n            // Jeśli członek już istnieje, ale został wcześniej usunięty/zawieszony\n            if (existingMember.status !== \"active\") {\n                // Aktualizuj istniejące członkostwo\n                const { data: updatedMember, error: updateError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").update({\n                    status: \"active\",\n                    role: role,\n                    joined_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString()\n                }).eq(\"id\", existingMember.id).select().single();\n                if (updateError) {\n                    console.error(\"Error updating group member:\", updateError);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: \"Failed to update group member\",\n                        details: updateError\n                    }, {\n                        status: 500\n                    });\n                }\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(updatedMember);\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User is already a member of this group\"\n            }, {\n                status: 400\n            });\n        }\n        // Dodaj nowego członka\n        const { data: newMember, error: createError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").insert({\n            group_id: groupId,\n            user_id: targetUserId,\n            role: role,\n            status: \"active\",\n            invited_by: userProfile.id,\n            joined_at: new Date().toISOString(),\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        }).select().single();\n        if (createError) {\n            console.error(\"Error adding group member:\", createError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to add group member\",\n                details: createError\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(newMember);\n    } catch (error) {\n        console.error(\"Unexpected error in POST /api/groups/[id]/members:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"An unexpected error occurred\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n/**\r\n * DELETE /api/groups/[id]/members/[memberId]\r\n * Usuwa członka z grupy\r\n */ async function DELETE(request, { params }) {\n    try {\n        const { id: groupId } = params;\n        const { searchParams } = new URL(request.url);\n        const memberId = searchParams.get(\"memberId\");\n        if (!memberId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Member ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Sprawdź autentykację\n        const user = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Pobierz profil użytkownika\n        const { data: userProfile, error: profileError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"user_profiles\").select(\"id\").eq(\"external_auth_id\", user.id).maybeSingle();\n        if (profileError && profileError.code !== \"PGRST116\") {\n            console.error(\"Error fetching user profile:\", profileError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch user profile\",\n                details: profileError\n            }, {\n                status: 500\n            });\n        }\n        if (!userProfile) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User profile not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Pobierz dane grupy\n        const { data: group, error: groupError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"groups\").select(\"owner_id\").eq(\"id\", groupId).single();\n        if (groupError) {\n            console.error(\"Error fetching group:\", groupError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Group not found\",\n                details: groupError\n            }, {\n                status: 404\n            });\n        }\n        // Pobierz członka do usunięcia\n        const { data: member, error: memberError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").select(\"user_id, role\").eq(\"id\", memberId).eq(\"group_id\", groupId).single();\n        if (memberError) {\n            console.error(\"Error fetching group member:\", memberError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Member not found in this group\",\n                details: memberError\n            }, {\n                status: 404\n            });\n        }\n        // Sprawdź uprawnienia do usunięcia członka\n        const isOwner = group.owner_id === userProfile.id;\n        const isAdmin = await isGroupAdmin(groupId, userProfile.id);\n        const isSelf = member.user_id === userProfile.id;\n        // Właściciel może usunąć każdego, admin może usunąć zwykłych członków, użytkownik może usunąć siebie\n        if (!isOwner && !isSelf && !(isAdmin && member.role !== \"admin\")) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"You do not have permission to remove this member\"\n            }, {\n                status: 403\n            });\n        }\n        // Nie można usunąć właściciela grupy\n        if (member.user_id === group.owner_id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Cannot remove the group owner\"\n            }, {\n                status: 400\n            });\n        }\n        // Usuń członka (w praktyce oznacz jako nieaktywnego)\n        const { error: deleteError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").update({\n            status: \"removed\",\n            updated_at: new Date().toISOString()\n        }).eq(\"id\", memberId);\n        if (deleteError) {\n            console.error(\"Error removing group member:\", deleteError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to remove group member\",\n                details: deleteError\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Member removed successfully\"\n        });\n    } catch (error) {\n        console.error(\"Unexpected error in DELETE /api/groups/[id]/members:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"An unexpected error occurred\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n/**\r\n * PATCH /api/groups/[id]/members/[memberId]\r\n * Zmienia rolę członka grupy\r\n */ async function PATCH(request, { params }) {\n    try {\n        const { id: groupId } = params;\n        // Pobierz dane z żądania\n        const { memberId, role } = await request.json();\n        if (!memberId || !role) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Member ID and role are required\"\n            }, {\n                status: 400\n            });\n        }\n        if (![\n            \"admin\",\n            \"member\"\n        ].includes(role)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid role. Must be either \"admin\" or \"member\"'\n            }, {\n                status: 400\n            });\n        }\n        // Sprawdź autentykację\n        const user = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Pobierz profil użytkownika\n        const { data: userProfile, error: profileError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"user_profiles\").select(\"id\").eq(\"external_auth_id\", user.id).maybeSingle();\n        if (profileError && profileError.code !== \"PGRST116\") {\n            console.error(\"Error fetching user profile:\", profileError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch user profile\",\n                details: profileError\n            }, {\n                status: 500\n            });\n        }\n        if (!userProfile) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User profile not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Sprawdź, czy użytkownik ma uprawnienia do zmiany roli\n        const { data: group, error: groupError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"groups\").select(\"owner_id\").eq(\"id\", groupId).single();\n        if (groupError) {\n            console.error(\"Error fetching group:\", groupError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Group not found\",\n                details: groupError\n            }, {\n                status: 404\n            });\n        }\n        // Tylko właściciel grupy może zmieniać role\n        if (group.owner_id !== userProfile.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Only the group owner can change member roles\"\n            }, {\n                status: 403\n            });\n        }\n        // Pobierz członka do aktualizacji\n        const { data: member, error: memberError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").select(\"user_id\").eq(\"id\", memberId).eq(\"group_id\", groupId).single();\n        if (memberError) {\n            console.error(\"Error fetching group member:\", memberError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Member not found in this group\",\n                details: memberError\n            }, {\n                status: 404\n            });\n        }\n        // Nie można zmienić roli właściciela\n        if (member.user_id === group.owner_id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Cannot change the role of the group owner\"\n            }, {\n                status: 400\n            });\n        }\n        // Aktualizuj rolę członka\n        const { data: updatedMember, error: updateError } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").update({\n            role: role,\n            updated_at: new Date().toISOString()\n        }).eq(\"id\", memberId).select().single();\n        if (updateError) {\n            console.error(\"Error updating member role:\", updateError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to update member role\",\n                details: updateError\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(updatedMember);\n    } catch (error) {\n        console.error(\"Unexpected error in PATCH /api/groups/[id]/members:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"An unexpected error occurred\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n// Funkcja pomocnicza do sprawdzania, czy użytkownik jest administratorem grupy\nasync function isGroupAdmin(groupId, userId) {\n    const { data, error } = await _lib_database_supabase_admin_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_members\").select(\"id\").eq(\"group_id\", groupId).eq(\"user_id\", userId).eq(\"status\", \"active\").eq(\"role\", \"admin\").maybeSingle();\n    return !error && !!data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ncm91cHMvW2lkXS9tZW1iZXJzL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkM7QUFDQTtBQUNRO0FBQ2M7QUFFakU7OztDQUdDLEdBQ00sZUFBZUcsSUFBSUMsT0FBTyxFQUFFLEVBQUVDLE1BQU0sRUFBRTtJQUMzQyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxJQUFJQyxPQUFPLEVBQUUsR0FBR0Y7UUFFeEIsdUJBQXVCO1FBQ3ZCLE1BQU1HLE9BQU8sTUFBTVAsaUVBQVdBO1FBQzlCLElBQUksQ0FBQ08sTUFBTTtZQUNULE9BQU9SLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQWUsR0FDeEI7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLDZCQUE2QjtRQUM3QixNQUFNLEVBQUVDLE1BQU1DLFdBQVcsRUFBRUgsT0FBT0ksWUFBWSxFQUFFLEdBQUcsTUFBTVosMkVBQWFBLENBQ25FYSxJQUFJLENBQUMsaUJBQ0xDLE1BQU0sQ0FBQyxNQUNQQyxFQUFFLENBQUMsb0JBQW9CVCxLQUFLRixFQUFFLEVBQzlCWSxXQUFXLElBQUkscUNBQXFDO1FBRXZELElBQUlKLGdCQUFnQkEsYUFBYUssSUFBSSxLQUFLLFlBQVk7WUFDcERDLFFBQVFWLEtBQUssQ0FBQyxnQ0FBZ0NJO1lBQzlDLE9BQU9kLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO2dCQUFnQ1csU0FBU1A7WUFBYSxHQUMvRDtnQkFBRUgsUUFBUTtZQUFJO1FBRWxCO1FBRUEsSUFBSSxDQUFDRSxhQUFhO1lBQ2hCLE9BQU9iLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQXlCLEdBQ2xDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSwwQ0FBMEM7UUFDMUMsTUFBTSxFQUFFQyxNQUFNVSxVQUFVLEVBQUVaLE9BQU9hLGVBQWUsRUFBRSxHQUFHLE1BQU1yQiwyRUFBYUEsQ0FD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RUFBRSxDQUFDLE1BQU1vRCxVQUNUckQsTUFBTSxHQUNOVSxNQUFNO1FBRVQsSUFBSTJCLGFBQWE7WUFDZmpDLFFBQVFWLEtBQUssQ0FBQywrQkFBK0IyQztZQUM3QyxPQUFPckQscURBQVlBLENBQUNTLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87Z0JBQWdDVyxTQUFTZ0M7WUFBWSxHQUM5RDtnQkFBRTFDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU9YLHFEQUFZQSxDQUFDUyxJQUFJLENBQUMyQztJQUMzQixFQUFFLE9BQU8xQyxPQUFPO1FBQ2RVLFFBQVFWLEtBQUssQ0FBQyx1REFBdURBO1FBQ3JFLE9BQU9WLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87WUFBZ0NXLFNBQVNYLE1BQU1nQyxPQUFPO1FBQUMsR0FDaEU7WUFBRS9CLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRUEsK0VBQStFO0FBQy9FLGVBQWU4RCxhQUFhbEUsT0FBTyxFQUFFdUMsTUFBTTtJQUN6QyxNQUFNLEVBQUVsQyxJQUFJLEVBQUVGLEtBQUssRUFBRSxHQUFHLE1BQU1SLDJFQUFhQSxDQUN4Q2EsSUFBSSxDQUFDLGlCQUNMQyxNQUFNLENBQUMsTUFDUEMsRUFBRSxDQUFDLFlBQVlWLFNBQ2ZVLEVBQUUsQ0FBQyxXQUFXNkIsUUFDZDdCLEVBQUUsQ0FBQyxVQUFVLFVBQ2JBLEVBQUUsQ0FBQyxRQUFRLFNBQ1hDLFdBQVc7SUFFZCxPQUFPLENBQUNSLFNBQVMsQ0FBQyxDQUFDRTtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyb3Vwc2hhcmUtcHJvamVjdC8uL3NyYy9hcHAvYXBpL2dyb3Vwcy9baWRdL21lbWJlcnMvcm91dGUuanM/MDI3MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXBwL2FwaS9ncm91cHMvW2lkXS9tZW1iZXJzL3JvdXRlLmpzXHJcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgY3VycmVudFVzZXIgfSBmcm9tICdAY2xlcmsvbmV4dGpzL3NlcnZlcic7XHJcbmltcG9ydCBzdXBhYmFzZUFkbWluIGZyb20gJ0AvbGliL2RhdGFiYXNlL3N1cGFiYXNlLWFkbWluLWNsaWVudCc7XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvZ3JvdXBzL1tpZF0vbWVtYmVyc1xyXG4gKiBQb2JpZXJhIGN6xYJvbmvDs3cgZ3J1cHlcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdCwgeyBwYXJhbXMgfSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGlkOiBncm91cElkIH0gPSBwYXJhbXM7XHJcbiAgICBcclxuICAgIC8vIFNwcmF3ZMW6IGF1dGVudHlrYWNqxJlcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjdXJyZW50VXNlcigpO1xyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBQb2JpZXJ6IHByb2ZpbCB1xbx5dGtvd25pa2FcclxuICAgIGNvbnN0IHsgZGF0YTogdXNlclByb2ZpbGUsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdpZCcpXHJcbiAgICAgIC5lcSgnZXh0ZXJuYWxfYXV0aF9pZCcsIHVzZXIuaWQpXHJcbiAgICAgIC5tYXliZVNpbmdsZSgpOyAvLyB1xbx5d2FteSBtYXliZVNpbmdsZSB6YW1pYXN0IHNpbmdsZVxyXG4gICAgXHJcbiAgICBpZiAocHJvZmlsZUVycm9yICYmIHByb2ZpbGVFcnJvci5jb2RlICE9PSAnUEdSU1QxMTYnKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgcHJvZmlsZTonLCBwcm9maWxlRXJyb3IpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCB1c2VyIHByb2ZpbGUnLCBkZXRhaWxzOiBwcm9maWxlRXJyb3IgfSxcclxuICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKCF1c2VyUHJvZmlsZSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ1VzZXIgcHJvZmlsZSBub3QgZm91bmQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNwcmF3ZMW6LCBjenkgdcW8eXRrb3duaWsgbmFsZcW8eSBkbyBncnVweVxyXG4gICAgY29uc3QgeyBkYXRhOiBtZW1iZXJzaGlwLCBlcnJvcjogbWVtYmVyc2hpcEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdncm91cF9tZW1iZXJzJylcclxuICAgICAgLnNlbGVjdCgncm9sZSwgc3RhdHVzJylcclxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlclByb2ZpbGUuaWQpXHJcbiAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKVxyXG4gICAgICAubWF5YmVTaW5nbGUoKTtcclxuICAgIFxyXG4gICAgLy8gU3ByYXdkxbosIGN6eSB1xbx5dGtvd25payBqZXN0IHfFgmHFm2NpY2llbGVtIGdydXB5XHJcbiAgICBjb25zdCB7IGRhdGE6IGdyb3VwLCBlcnJvcjogZ3JvdXBFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnZ3JvdXBzJylcclxuICAgICAgLnNlbGVjdCgnb3duZXJfaWQnKVxyXG4gICAgICAuZXEoJ2lkJywgZ3JvdXBJZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBpZiAoZ3JvdXBFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBncm91cDonLCBncm91cEVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdHcm91cCBub3QgZm91bmQnLCBkZXRhaWxzOiBncm91cEVycm9yIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGlzT3duZXIgPSBncm91cC5vd25lcl9pZCA9PT0gdXNlclByb2ZpbGUuaWQ7XHJcbiAgICBjb25zdCBpc01lbWJlciA9IG1lbWJlcnNoaXAgJiYgbWVtYmVyc2hpcC5zdGF0dXMgPT09ICdhY3RpdmUnO1xyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiB1cHJhd25pZW5pYSAtIHR5bGtvIGN6xYJvbmtvd2llIGdydXB5IG1vZ8SFIHdpZHppZcSHIGlubnljaCBjesWCb25rw7N3XHJcbiAgICBpZiAoIWlzT3duZXIgJiYgIWlzTWVtYmVyKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gdmlldyBncm91cCBtZW1iZXJzJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDMgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBvZGVqxZtjaWUgYWx0ZXJuYXR5d25lIC0gbmFqcGllcncgcG9iaWVyYW15IGN6xYJvbmvDs3cgYmV6IHphZ25pZcW8ZMW8YW5pYVxyXG4gICAgY29uc3QgeyBkYXRhOiBtZW1iZXJzLCBlcnJvcjogbWVtYmVyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdncm91cF9tZW1iZXJzJylcclxuICAgICAgLnNlbGVjdCgnaWQsIHVzZXJfaWQsIHJvbGUsIHN0YXR1cywgam9pbmVkX2F0LCBjcmVhdGVkX2F0JylcclxuICAgICAgLmVxKCdncm91cF9pZCcsIGdyb3VwSWQpXHJcbiAgICAgIC5lcSgnc3RhdHVzJywgJ2FjdGl2ZScpOyAvLyB0eWxrbyBha3R5d25pIGN6xYJvbmtvd2llXHJcbiAgICBcclxuICAgIGlmIChtZW1iZXJzRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZ3JvdXAgbWVtYmVyczonLCBtZW1iZXJzRXJyb3IpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBncm91cCBtZW1iZXJzJywgZGV0YWlsczogbWVtYmVyc0Vycm9yIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGVyYXogcG9iaWVyYW15IGRhbmUgcHJvZmlsb3dlIGRsYSBrYcW8ZGVnbyBjesWCb25rYSBvc29ibm9cclxuICAgIGNvbnN0IG1lbWJlcnNXaXRoUHJvZmlsZXMgPSBhd2FpdCBQcm9taXNlLmFsbChtZW1iZXJzLm1hcChhc3luYyAobWVtYmVyKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlclByb2ZpbGUsIGVycm9yOiB1c2VyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGRpc3BsYXlfbmFtZSwgYXZhdGFyX3VybCwgZW1haWwsIHZlcmlmaWNhdGlvbl9sZXZlbCwgcmF0aW5nX2F2ZycpXHJcbiAgICAgICAgLmVxKCdpZCcsIG1lbWJlci51c2VyX2lkKVxyXG4gICAgICAgIC5zaW5nbGUoKTtcclxuICAgICAgXHJcbiAgICAgIGlmICh1c2VyRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYEVycm9yIGZldGNoaW5nIHByb2ZpbGUgZm9yIHVzZXIgJHttZW1iZXIudXNlcl9pZH06YCwgdXNlckVycm9yKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4ubWVtYmVyLFxyXG4gICAgICAgICAgdXNlcjogbnVsbCxcclxuICAgICAgICAgIGlzT3duZXI6IG1lbWJlci51c2VyX2lkID09PSBncm91cC5vd25lcl9pZFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4ubWVtYmVyLFxyXG4gICAgICAgIHVzZXI6IHVzZXJQcm9maWxlLFxyXG4gICAgICAgIGlzT3duZXI6IG1lbWJlci51c2VyX2lkID09PSBncm91cC5vd25lcl9pZFxyXG4gICAgICB9O1xyXG4gICAgfSkpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGZldGNoZWQgJHttZW1iZXJzV2l0aFByb2ZpbGVzLmxlbmd0aH0gbWVtYmVycyBmb3IgZ3JvdXAgJHtncm91cElkfWApO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKG1lbWJlcnNXaXRoUHJvZmlsZXMpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yIGluIEdFVCAvYXBpL2dyb3Vwcy9baWRdL21lbWJlcnM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcsIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS9ncm91cHMvW2lkXS9tZW1iZXJzXHJcbiAqIERvZGFqZSBub3dlZ28gY3rFgm9ua2EgZG8gZ3J1cHlcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QsIHsgcGFyYW1zIH0pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBpZDogZ3JvdXBJZCB9ID0gcGFyYW1zO1xyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiBhdXRlbnR5a2FjasSZXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgY3VycmVudFVzZXIoKTtcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUG9iaWVyeiBkYW5lIHogxbzEhWRhbmlhXHJcbiAgICBjb25zdCB7IGVtYWlsLCByb2xlID0gJ21lbWJlcicsIHVzZXJJZCB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBcclxuICAgIGlmICghZW1haWwgJiYgIXVzZXJJZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0VpdGhlciBlbWFpbCBvciB1c2VySWQgaXMgcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFBvYmllcnogcHJvZmlsIHXFvHl0a293bmlrYVxyXG4gICAgY29uc3QgeyBkYXRhOiB1c2VyUHJvZmlsZSwgZXJyb3I6IHByb2ZpbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXHJcbiAgICAgIC5zZWxlY3QoJ2lkJylcclxuICAgICAgLmVxKCdleHRlcm5hbF9hdXRoX2lkJywgdXNlci5pZClcclxuICAgICAgLm1heWJlU2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChwcm9maWxlRXJyb3IgJiYgcHJvZmlsZUVycm9yLmNvZGUgIT09ICdQR1JTVDExNicpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBwcm9maWxlOicsIHByb2ZpbGVFcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHVzZXIgcHJvZmlsZScsIGRldGFpbHM6IHByb2ZpbGVFcnJvciB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIXVzZXJQcm9maWxlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnVXNlciBwcm9maWxlIG5vdCBmb3VuZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU3ByYXdkxbosIGN6eSB1xbx5dGtvd25payBtYSB1cHJhd25pZW5pYSBkbyBkb2Rhd2FuaWEgY3rFgm9ua8Ozd1xyXG4gICAgY29uc3QgeyBkYXRhOiBncm91cCwgZXJyb3I6IGdyb3VwRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ2dyb3VwcycpXHJcbiAgICAgIC5zZWxlY3QoJ293bmVyX2lkJylcclxuICAgICAgLmVxKCdpZCcsIGdyb3VwSWQpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuICAgIFxyXG4gICAgaWYgKGdyb3VwRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZ3JvdXA6JywgZ3JvdXBFcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnR3JvdXAgbm90IGZvdW5kJywgZGV0YWlsczogZ3JvdXBFcnJvciB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBpc093bmVyID0gZ3JvdXAub3duZXJfaWQgPT09IHVzZXJQcm9maWxlLmlkO1xyXG4gICAgXHJcbiAgICBpZiAoIWlzT3duZXIpIHtcclxuICAgICAgLy8gU3ByYXdkxbosIGN6eSB1xbx5dGtvd25payBqZXN0IGFkbWluaXN0cmF0b3JlbVxyXG4gICAgICBjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAsIGVycm9yOiBtZW1iZXJzaGlwRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgICAuZnJvbSgnZ3JvdXBfbWVtYmVycycpXHJcbiAgICAgICAgLnNlbGVjdCgncm9sZScpXHJcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlclByb2ZpbGUuaWQpXHJcbiAgICAgICAgLmVxKCdncm91cF9pZCcsIGdyb3VwSWQpXHJcbiAgICAgICAgLmVxKCdzdGF0dXMnLCAnYWN0aXZlJylcclxuICAgICAgICAuZXEoJ3JvbGUnLCAnYWRtaW4nKVxyXG4gICAgICAgIC5tYXliZVNpbmdsZSgpO1xyXG4gICAgICBcclxuICAgICAgaWYgKG1lbWJlcnNoaXBFcnJvciB8fCAhbWVtYmVyc2hpcCkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgZXJyb3I6ICdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBhZGQgbWVtYmVycyB0byB0aGlzIGdyb3VwJyB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMyB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBabmFqZMW6IElEIHXFvHl0a293bmlrYSBkbyBkb2RhbmlhXHJcbiAgICBsZXQgdGFyZ2V0VXNlcklkID0gdXNlcklkO1xyXG4gICAgXHJcbiAgICBpZiAoIXRhcmdldFVzZXJJZCAmJiBlbWFpbCkge1xyXG4gICAgICAvLyBabmFqZMW6IHXFvHl0a293bmlrYSBwbyBhZHJlc2llIGVtYWlsXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdGFyZ2V0VXNlciwgZXJyb3I6IHRhcmdldFVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCcpXHJcbiAgICAgICAgLmVxKCdlbWFpbCcsIGVtYWlsKVxyXG4gICAgICAgIC5tYXliZVNpbmdsZSgpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHRhcmdldFVzZXJFcnJvciAmJiB0YXJnZXRVc2VyRXJyb3IuY29kZSAhPT0gJ1BHUlNUMTE2Jykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZpbmRpbmcgdXNlciBieSBlbWFpbDonLCB0YXJnZXRVc2VyRXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmluZCB1c2VyIGJ5IGVtYWlsJywgZGV0YWlsczogdGFyZ2V0VXNlckVycm9yIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXRhcmdldFVzZXIpIHtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IGVycm9yOiAnVXNlciB3aXRoIHRoaXMgZW1haWwgbm90IGZvdW5kJyB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdGFyZ2V0VXNlcklkID0gdGFyZ2V0VXNlci5pZDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU3ByYXdkxbosIGN6eSB1xbx5dGtvd25payBqdcW8IGplc3QgY3rFgm9ua2llbSBncnVweVxyXG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ01lbWJlciwgZXJyb3I6IGV4aXN0aW5nTWVtYmVyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ2dyb3VwX21lbWJlcnMnKVxyXG4gICAgICAuc2VsZWN0KCdpZCwgc3RhdHVzJylcclxuICAgICAgLmVxKCd1c2VyX2lkJywgdGFyZ2V0VXNlcklkKVxyXG4gICAgICAuZXEoJ2dyb3VwX2lkJywgZ3JvdXBJZClcclxuICAgICAgLm1heWJlU2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChleGlzdGluZ01lbWJlcikge1xyXG4gICAgICAvLyBKZcWbbGkgY3rFgm9uZWsganXFvCBpc3RuaWVqZSwgYWxlIHpvc3RhxYIgd2N6ZcWbbmllaiB1c3VuacSZdHkvemF3aWVzem9ueVxyXG4gICAgICBpZiAoZXhpc3RpbmdNZW1iZXIuc3RhdHVzICE9PSAnYWN0aXZlJykge1xyXG4gICAgICAgIC8vIEFrdHVhbGl6dWogaXN0bmllasSFY2UgY3rFgm9ua29zdHdvXHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkTWVtYmVyLCBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgICAgIC5mcm9tKCdncm91cF9tZW1iZXJzJylcclxuICAgICAgICAgIC51cGRhdGUoe1xyXG4gICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxyXG4gICAgICAgICAgICByb2xlOiByb2xlLFxyXG4gICAgICAgICAgICBqb2luZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmVxKCdpZCcsIGV4aXN0aW5nTWVtYmVyLmlkKVxyXG4gICAgICAgICAgLnNlbGVjdCgpXHJcbiAgICAgICAgICAuc2luZ2xlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHVwZGF0ZUVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBncm91cCBtZW1iZXI6JywgdXBkYXRlRXJyb3IpO1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSBncm91cCBtZW1iZXInLCBkZXRhaWxzOiB1cGRhdGVFcnJvciB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih1cGRhdGVkTWVtYmVyKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdVc2VyIGlzIGFscmVhZHkgYSBtZW1iZXIgb2YgdGhpcyBncm91cCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRG9kYWogbm93ZWdvIGN6xYJvbmthXHJcbiAgICBjb25zdCB7IGRhdGE6IG5ld01lbWJlciwgZXJyb3I6IGNyZWF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdncm91cF9tZW1iZXJzJylcclxuICAgICAgLmluc2VydCh7XHJcbiAgICAgICAgZ3JvdXBfaWQ6IGdyb3VwSWQsXHJcbiAgICAgICAgdXNlcl9pZDogdGFyZ2V0VXNlcklkLFxyXG4gICAgICAgIHJvbGU6IHJvbGUsXHJcbiAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcclxuICAgICAgICBpbnZpdGVkX2J5OiB1c2VyUHJvZmlsZS5pZCxcclxuICAgICAgICBqb2luZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChjcmVhdGVFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgZ3JvdXAgbWVtYmVyOicsIGNyZWF0ZUVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gYWRkIGdyb3VwIG1lbWJlcicsIGRldGFpbHM6IGNyZWF0ZUVycm9yIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihuZXdNZW1iZXIpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yIGluIFBPU1QgL2FwaS9ncm91cHMvW2lkXS9tZW1iZXJzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBERUxFVEUgL2FwaS9ncm91cHMvW2lkXS9tZW1iZXJzL1ttZW1iZXJJZF1cclxuICogVXN1d2EgY3rFgm9ua2EgeiBncnVweVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShyZXF1ZXN0LCB7IHBhcmFtcyB9KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgaWQ6IGdyb3VwSWQgfSA9IHBhcmFtcztcclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICAgIGNvbnN0IG1lbWJlcklkID0gc2VhcmNoUGFyYW1zLmdldCgnbWVtYmVySWQnKTtcclxuICAgIFxyXG4gICAgaWYgKCFtZW1iZXJJZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ01lbWJlciBJRCBpcyByZXF1aXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU3ByYXdkxbogYXV0ZW50eWthY2rEmVxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGN1cnJlbnRVc2VyKCk7XHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFBvYmllcnogcHJvZmlsIHXFvHl0a293bmlrYVxyXG4gICAgY29uc3QgeyBkYXRhOiB1c2VyUHJvZmlsZSwgZXJyb3I6IHByb2ZpbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXHJcbiAgICAgIC5zZWxlY3QoJ2lkJylcclxuICAgICAgLmVxKCdleHRlcm5hbF9hdXRoX2lkJywgdXNlci5pZClcclxuICAgICAgLm1heWJlU2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChwcm9maWxlRXJyb3IgJiYgcHJvZmlsZUVycm9yLmNvZGUgIT09ICdQR1JTVDExNicpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBwcm9maWxlOicsIHByb2ZpbGVFcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHVzZXIgcHJvZmlsZScsIGRldGFpbHM6IHByb2ZpbGVFcnJvciB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIXVzZXJQcm9maWxlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnVXNlciBwcm9maWxlIG5vdCBmb3VuZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUG9iaWVyeiBkYW5lIGdydXB5XHJcbiAgICBjb25zdCB7IGRhdGE6IGdyb3VwLCBlcnJvcjogZ3JvdXBFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnZ3JvdXBzJylcclxuICAgICAgLnNlbGVjdCgnb3duZXJfaWQnKVxyXG4gICAgICAuZXEoJ2lkJywgZ3JvdXBJZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBpZiAoZ3JvdXBFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBncm91cDonLCBncm91cEVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdHcm91cCBub3QgZm91bmQnLCBkZXRhaWxzOiBncm91cEVycm9yIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFBvYmllcnogY3rFgm9ua2EgZG8gdXN1bmnEmWNpYVxyXG4gICAgY29uc3QgeyBkYXRhOiBtZW1iZXIsIGVycm9yOiBtZW1iZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnZ3JvdXBfbWVtYmVycycpXHJcbiAgICAgIC5zZWxlY3QoJ3VzZXJfaWQsIHJvbGUnKVxyXG4gICAgICAuZXEoJ2lkJywgbWVtYmVySWQpXHJcbiAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChtZW1iZXJFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBncm91cCBtZW1iZXI6JywgbWVtYmVyRXJyb3IpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ01lbWJlciBub3QgZm91bmQgaW4gdGhpcyBncm91cCcsIGRldGFpbHM6IG1lbWJlckVycm9yIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNwcmF3ZMW6IHVwcmF3bmllbmlhIGRvIHVzdW5pxJljaWEgY3rFgm9ua2FcclxuICAgIGNvbnN0IGlzT3duZXIgPSBncm91cC5vd25lcl9pZCA9PT0gdXNlclByb2ZpbGUuaWQ7XHJcbiAgICBjb25zdCBpc0FkbWluID0gYXdhaXQgaXNHcm91cEFkbWluKGdyb3VwSWQsIHVzZXJQcm9maWxlLmlkKTtcclxuICAgIGNvbnN0IGlzU2VsZiA9IG1lbWJlci51c2VyX2lkID09PSB1c2VyUHJvZmlsZS5pZDtcclxuICAgIFxyXG4gICAgLy8gV8WCYcWbY2ljaWVsIG1vxbxlIHVzdW7EhcSHIGthxbxkZWdvLCBhZG1pbiBtb8W8ZSB1c3VuxIXEhyB6d3lrxYJ5Y2ggY3rFgm9ua8OzdywgdcW8eXRrb3duaWsgbW/FvGUgdXN1bsSFxIcgc2llYmllXHJcbiAgICBpZiAoIWlzT3duZXIgJiYgIWlzU2VsZiAmJiAhKGlzQWRtaW4gJiYgbWVtYmVyLnJvbGUgIT09ICdhZG1pbicpKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gcmVtb3ZlIHRoaXMgbWVtYmVyJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDMgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBOaWUgbW/FvG5hIHVzdW7EhcSHIHfFgmHFm2NpY2llbGEgZ3J1cHlcclxuICAgIGlmIChtZW1iZXIudXNlcl9pZCA9PT0gZ3JvdXAub3duZXJfaWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdDYW5ub3QgcmVtb3ZlIHRoZSBncm91cCBvd25lcicgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVXN1xYQgY3rFgm9ua2EgKHcgcHJha3R5Y2Ugb3puYWN6IGpha28gbmllYWt0eXduZWdvKVxyXG4gICAgY29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ2dyb3VwX21lbWJlcnMnKVxyXG4gICAgICAudXBkYXRlKHtcclxuICAgICAgICBzdGF0dXM6ICdyZW1vdmVkJyxcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSlcclxuICAgICAgLmVxKCdpZCcsIG1lbWJlcklkKTtcclxuICAgIFxyXG4gICAgaWYgKGRlbGV0ZUVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIGdyb3VwIG1lbWJlcjonLCBkZWxldGVFcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIHJlbW92ZSBncm91cCBtZW1iZXInLCBkZXRhaWxzOiBkZWxldGVFcnJvciB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnTWVtYmVyIHJlbW92ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBlcnJvciBpbiBERUxFVEUgL2FwaS9ncm91cHMvW2lkXS9tZW1iZXJzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQQVRDSCAvYXBpL2dyb3Vwcy9baWRdL21lbWJlcnMvW21lbWJlcklkXVxyXG4gKiBabWllbmlhIHJvbMSZIGN6xYJvbmthIGdydXB5XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUEFUQ0gocmVxdWVzdCwgeyBwYXJhbXMgfSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGlkOiBncm91cElkIH0gPSBwYXJhbXM7XHJcbiAgICBcclxuICAgIC8vIFBvYmllcnogZGFuZSB6IMW8xIVkYW5pYVxyXG4gICAgY29uc3QgeyBtZW1iZXJJZCwgcm9sZSB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBcclxuICAgIGlmICghbWVtYmVySWQgfHwgIXJvbGUpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdNZW1iZXIgSUQgYW5kIHJvbGUgYXJlIHJlcXVpcmVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIVsnYWRtaW4nLCAnbWVtYmVyJ10uaW5jbHVkZXMocm9sZSkpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIHJvbGUuIE11c3QgYmUgZWl0aGVyIFwiYWRtaW5cIiBvciBcIm1lbWJlclwiJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiBhdXRlbnR5a2FjasSZXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgY3VycmVudFVzZXIoKTtcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUG9iaWVyeiBwcm9maWwgdcW8eXRrb3duaWthXHJcbiAgICBjb25zdCB7IGRhdGE6IHVzZXJQcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcclxuICAgICAgLnNlbGVjdCgnaWQnKVxyXG4gICAgICAuZXEoJ2V4dGVybmFsX2F1dGhfaWQnLCB1c2VyLmlkKVxyXG4gICAgICAubWF5YmVTaW5nbGUoKTtcclxuICAgIFxyXG4gICAgaWYgKHByb2ZpbGVFcnJvciAmJiBwcm9maWxlRXJyb3IuY29kZSAhPT0gJ1BHUlNUMTE2Jykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIHByb2ZpbGU6JywgcHJvZmlsZUVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggdXNlciBwcm9maWxlJywgZGV0YWlsczogcHJvZmlsZUVycm9yIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghdXNlclByb2ZpbGUpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdVc2VyIHByb2ZpbGUgbm90IGZvdW5kJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiwgY3p5IHXFvHl0a293bmlrIG1hIHVwcmF3bmllbmlhIGRvIHptaWFueSByb2xpXHJcbiAgICBjb25zdCB7IGRhdGE6IGdyb3VwLCBlcnJvcjogZ3JvdXBFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnZ3JvdXBzJylcclxuICAgICAgLnNlbGVjdCgnb3duZXJfaWQnKVxyXG4gICAgICAuZXEoJ2lkJywgZ3JvdXBJZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBpZiAoZ3JvdXBFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBncm91cDonLCBncm91cEVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdHcm91cCBub3QgZm91bmQnLCBkZXRhaWxzOiBncm91cEVycm9yIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFR5bGtvIHfFgmHFm2NpY2llbCBncnVweSBtb8W8ZSB6bWllbmlhxIcgcm9sZVxyXG4gICAgaWYgKGdyb3VwLm93bmVyX2lkICE9PSB1c2VyUHJvZmlsZS5pZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ09ubHkgdGhlIGdyb3VwIG93bmVyIGNhbiBjaGFuZ2UgbWVtYmVyIHJvbGVzJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDMgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBQb2JpZXJ6IGN6xYJvbmthIGRvIGFrdHVhbGl6YWNqaVxyXG4gICAgY29uc3QgeyBkYXRhOiBtZW1iZXIsIGVycm9yOiBtZW1iZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnZ3JvdXBfbWVtYmVycycpXHJcbiAgICAgIC5zZWxlY3QoJ3VzZXJfaWQnKVxyXG4gICAgICAuZXEoJ2lkJywgbWVtYmVySWQpXHJcbiAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChtZW1iZXJFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBncm91cCBtZW1iZXI6JywgbWVtYmVyRXJyb3IpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ01lbWJlciBub3QgZm91bmQgaW4gdGhpcyBncm91cCcsIGRldGFpbHM6IG1lbWJlckVycm9yIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE5pZSBtb8W8bmEgem1pZW5pxIcgcm9saSB3xYJhxZtjaWNpZWxhXHJcbiAgICBpZiAobWVtYmVyLnVzZXJfaWQgPT09IGdyb3VwLm93bmVyX2lkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnQ2Fubm90IGNoYW5nZSB0aGUgcm9sZSBvZiB0aGUgZ3JvdXAgb3duZXInIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEFrdHVhbGl6dWogcm9sxJkgY3rFgm9ua2FcclxuICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZE1lbWJlciwgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdncm91cF9tZW1iZXJzJylcclxuICAgICAgLnVwZGF0ZSh7XHJcbiAgICAgICAgcm9sZTogcm9sZSxcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSlcclxuICAgICAgLmVxKCdpZCcsIG1lbWJlcklkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBpZiAodXBkYXRlRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgbWVtYmVyIHJvbGU6JywgdXBkYXRlRXJyb3IpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgbWVtYmVyIHJvbGUnLCBkZXRhaWxzOiB1cGRhdGVFcnJvciB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24odXBkYXRlZE1lbWJlcik7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3IgaW4gUEFUQ0ggL2FwaS9ncm91cHMvW2lkXS9tZW1iZXJzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmtjamEgcG9tb2NuaWN6YSBkbyBzcHJhd2R6YW5pYSwgY3p5IHXFvHl0a293bmlrIGplc3QgYWRtaW5pc3RyYXRvcmVtIGdydXB5XHJcbmFzeW5jIGZ1bmN0aW9uIGlzR3JvdXBBZG1pbihncm91cElkLCB1c2VySWQpIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAuZnJvbSgnZ3JvdXBfbWVtYmVycycpXHJcbiAgICAuc2VsZWN0KCdpZCcpXHJcbiAgICAuZXEoJ2dyb3VwX2lkJywgZ3JvdXBJZClcclxuICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcclxuICAgIC5lcSgnc3RhdHVzJywgJ2FjdGl2ZScpXHJcbiAgICAuZXEoJ3JvbGUnLCAnYWRtaW4nKVxyXG4gICAgLm1heWJlU2luZ2xlKCk7XHJcbiAgXHJcbiAgcmV0dXJuICFlcnJvciAmJiAhIWRhdGE7XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3VycmVudFVzZXIiLCJzdXBhYmFzZUFkbWluIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsImlkIiwiZ3JvdXBJZCIsInVzZXIiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwidXNlclByb2ZpbGUiLCJwcm9maWxlRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJtYXliZVNpbmdsZSIsImNvZGUiLCJjb25zb2xlIiwiZGV0YWlscyIsIm1lbWJlcnNoaXAiLCJtZW1iZXJzaGlwRXJyb3IiLCJncm91cCIsImdyb3VwRXJyb3IiLCJzaW5nbGUiLCJpc093bmVyIiwib3duZXJfaWQiLCJpc01lbWJlciIsIm1lbWJlcnMiLCJtZW1iZXJzRXJyb3IiLCJtZW1iZXJzV2l0aFByb2ZpbGVzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsIm1lbWJlciIsInVzZXJFcnJvciIsInVzZXJfaWQiLCJ3YXJuIiwibG9nIiwibGVuZ3RoIiwibWVzc2FnZSIsIlBPU1QiLCJlbWFpbCIsInJvbGUiLCJ1c2VySWQiLCJ0YXJnZXRVc2VySWQiLCJ0YXJnZXRVc2VyIiwidGFyZ2V0VXNlckVycm9yIiwiZXhpc3RpbmdNZW1iZXIiLCJleGlzdGluZ01lbWJlckVycm9yIiwidXBkYXRlZE1lbWJlciIsInVwZGF0ZUVycm9yIiwidXBkYXRlIiwiam9pbmVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZF9hdCIsIm5ld01lbWJlciIsImNyZWF0ZUVycm9yIiwiaW5zZXJ0IiwiZ3JvdXBfaWQiLCJpbnZpdGVkX2J5IiwiY3JlYXRlZF9hdCIsIkRFTEVURSIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsIm1lbWJlcklkIiwiZ2V0IiwibWVtYmVyRXJyb3IiLCJpc0FkbWluIiwiaXNHcm91cEFkbWluIiwiaXNTZWxmIiwiZGVsZXRlRXJyb3IiLCJQQVRDSCIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/groups/[id]/members/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/database/supabase-admin-client.js":
/*!***************************************************!*\
  !*** ./src/lib/database/supabase-admin-client.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUserProfileAdmin: () => (/* binding */ createUserProfileAdmin),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getGroupMembersAdmin: () => (/* binding */ getGroupMembersAdmin),\n/* harmony export */   getSubscriptionPlatformsAdmin: () => (/* binding */ getSubscriptionPlatformsAdmin),\n/* harmony export */   getUserByAuthIdAdmin: () => (/* binding */ getUserByAuthIdAdmin),\n/* harmony export */   handleSupabaseAdminError: () => (/* binding */ handleSupabaseAdminError),\n/* harmony export */   logAdminActivity: () => (/* binding */ logAdminActivity),\n/* harmony export */   updateUserProfileAdmin: () => (/* binding */ updateUserProfileAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n// src/lib/supabase-admin-client.js\n\n// Inicjalizacja klienta Supabase z uprawnieniami administratora\nconst supabaseUrl = \"https://nimrnohkesysfppcmujb.supabase.co\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n// Sprawdzenie czy zmienne środowiskowe są ustawione\nif (!supabaseUrl || !supabaseServiceKey) {\n    console.error(\"Missing environment variables: NEXT_PUBLIC_SUPABASE_URL or SUPABASE_SERVICE_ROLE_KEY\");\n}\n// Uwaga: Ten klient ma pełne uprawnienia do bazy danych, używaj ostrożnie!\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        persistSession: false,\n        autoRefreshToken: false\n    }\n});\n// Funkcja pomocnicza do obsługi błędów Supabase\nconst handleSupabaseAdminError = (error)=>{\n    console.error(\"Supabase Admin error:\", error);\n    return {\n        error: true,\n        message: error.message || \"Nieoczekiwany błąd administratora\",\n        code: error.code || \"unknown_error\",\n        details: error.details || null\n    };\n};\n// Funkcje administratora do zarządzania użytkownikami\n// Funkcja do tworzenia profilu użytkownika przez administratora\nconst createUserProfileAdmin = async (userProfile)=>{\n    try {\n        const { data, error } = await supabaseAdmin.from(\"user_profiles\").insert([\n            userProfile\n        ]).select().single();\n        if (error) {\n            if (error.code === \"23505\") {\n                console.warn(\"Admin: Pr\\xf3ba utworzenia duplikatu profilu użytkownika:\", error);\n                // Jeśli profil już istnieje, pobierz go\n                const { data: existingUser, error: fetchError } = await supabaseAdmin.from(\"user_profiles\").select(\"*\").eq(\"external_auth_id\", userProfile.external_auth_id).single();\n                if (fetchError) {\n                    throw new Error(\"Nie można pobrać istniejącego profilu: \" + fetchError.message);\n                }\n                return existingUser;\n            } else {\n                throw new Error(error.message || \"Nie udało się utworzyć profilu użytkownika\");\n            }\n        }\n        return data;\n    } catch (error) {\n        handleSupabaseAdminError(error);\n        throw error;\n    }\n};\n// Funkcja do pobierania profilu użytkownika przez administratora\nconst getUserByAuthIdAdmin = async (authId)=>{\n    if (!authId) return null;\n    try {\n        const { data, error } = await supabaseAdmin.from(\"user_profiles\").select(\"*\").eq(\"external_auth_id\", authId).single();\n        if (error) {\n            if (error.code === \"PGRST116\") {\n                // Nie znaleziono - to normalny przypadek\n                return null;\n            } else {\n                console.error(\"Admin: Błąd pobierania profilu użytkownika:\", error);\n                throw new Error(error.message || \"Nie udało się pobrać profilu użytkownika\");\n            }\n        }\n        return data;\n    } catch (error) {\n        handleSupabaseAdminError(error);\n        throw error;\n    }\n};\n// Funkcja do aktualizacji profilu użytkownika przez administratora\nconst updateUserProfileAdmin = async (userId, updates)=>{\n    try {\n        const { data, error } = await supabaseAdmin.from(\"user_profiles\").update(updates).eq(\"id\", userId).select().single();\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseAdminError(error);\n        throw error;\n    }\n};\n// Funkcja do pobierania platform subskrypcyjnych przez administratora\nconst getSubscriptionPlatformsAdmin = async ()=>{\n    try {\n        const { data, error } = await supabaseAdmin.from(\"subscription_platforms\").select(\"*\").order(\"name\");\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseAdminError(error);\n        return [];\n    }\n};\n// Funkcja do pobierania członków grupy przez administratora\nconst getGroupMembersAdmin = async (groupId)=>{\n    try {\n        const { data, error } = await supabaseAdmin.from(\"group_members\").select(`\r\n        *,\r\n        user:user_profiles(id, display_name, avatar_url, email)\r\n      `).eq(\"group_id\", groupId);\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseAdminError(error);\n        return [];\n    }\n};\n// Zapisz wszystkie aktywności administratora do logu bezpieczeństwa\nconst logAdminActivity = async (action, resourceType, resourceId, details = {})=>{\n    try {\n        const { data, error } = await supabaseAdmin.from(\"security_logs\").insert([\n            {\n                action_type: action,\n                resource_type: resourceType,\n                resource_id: resourceId,\n                status: \"success\",\n                details: details\n            }\n        ]);\n        if (error) console.error(\"Błąd logowania aktywności administratora:\", error);\n    } catch (error) {\n        console.error(\"Wyjątek podczas logowania aktywności administratora:\", error);\n    }\n};\n// Eksport klienta administratora jako domyślny\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabaseAdmin);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RhdGFiYXNlL3N1cGFiYXNlLWFkbWluLWNsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSxtQ0FBbUM7QUFDa0I7QUFFckQsZ0VBQWdFO0FBQ2hFLE1BQU1DLGNBQWNDLDBDQUFvQztBQUN4RCxNQUFNRyxxQkFBcUJILFFBQVFDLEdBQUcsQ0FBQ0cseUJBQXlCO0FBRWhFLG9EQUFvRDtBQUNwRCxJQUFJLENBQUNMLGVBQWUsQ0FBQ0ksb0JBQW9CO0lBQ3ZDRSxRQUFRQyxLQUFLLENBQ1g7QUFFSjtBQUVBLDJFQUEyRTtBQUMzRSxNQUFNQyxnQkFBZ0JULG1FQUFZQSxDQUFDQyxhQUFhSSxvQkFBb0I7SUFDbEVLLE1BQU07UUFDSkMsZ0JBQWdCO1FBQ2hCQyxrQkFBa0I7SUFDcEI7QUFDRjtBQUVBLGdEQUFnRDtBQUN6QyxNQUFNQywyQkFBMkIsQ0FBQ0w7SUFDdkNELFFBQVFDLEtBQUssQ0FBQyx5QkFBeUJBO0lBRXZDLE9BQU87UUFDTEEsT0FBTztRQUNQTSxTQUFTTixNQUFNTSxPQUFPLElBQUk7UUFDMUJDLE1BQU1QLE1BQU1PLElBQUksSUFBSTtRQUNwQkMsU0FBU1IsTUFBTVEsT0FBTyxJQUFJO0lBQzVCO0FBQ0YsRUFBRTtBQUVGLHNEQUFzRDtBQUV0RCxnRUFBZ0U7QUFDekQsTUFBTUMseUJBQXlCLE9BQU9DO0lBQzNDLElBQUk7UUFDRixNQUFNLEVBQUVDLElBQUksRUFBRVgsS0FBSyxFQUFFLEdBQUcsTUFBTUMsY0FDM0JXLElBQUksQ0FBQyxpQkFDTEMsTUFBTSxDQUFDO1lBQUNIO1NBQVksRUFDcEJJLE1BQU0sR0FDTkMsTUFBTTtRQUVULElBQUlmLE9BQU87WUFDVCxJQUFJQSxNQUFNTyxJQUFJLEtBQUssU0FBUztnQkFDMUJSLFFBQVFpQixJQUFJLENBQUMsNkRBQTBEaEI7Z0JBRXZFLHdDQUF3QztnQkFDeEMsTUFBTSxFQUFFVyxNQUFNTSxZQUFZLEVBQUVqQixPQUFPa0IsVUFBVSxFQUFFLEdB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QyxLQUFLLENBQUMsNkNBQTZDQTtJQUV4RSxFQUFFLE9BQU9BLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLHdEQUF3REE7SUFDeEU7QUFDRixFQUFFO0FBRUYsK0NBQStDO0FBQy9DLGlFQUFlQyxhQUFhQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JvdXBzaGFyZS1wcm9qZWN0Ly4vc3JjL2xpYi9kYXRhYmFzZS9zdXBhYmFzZS1hZG1pbi1jbGllbnQuanM/MzQ3NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL3N1cGFiYXNlLWFkbWluLWNsaWVudC5qc1xyXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xyXG5cclxuLy8gSW5pY2phbGl6YWNqYSBrbGllbnRhIFN1cGFiYXNlIHogdXByYXduaWVuaWFtaSBhZG1pbmlzdHJhdG9yYVxyXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcclxuY29uc3Qgc3VwYWJhc2VTZXJ2aWNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWTtcclxuXHJcbi8vIFNwcmF3ZHplbmllIGN6eSB6bWllbm5lIMWbcm9kb3dpc2tvd2Ugc8SFIHVzdGF3aW9uZVxyXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZVNlcnZpY2VLZXkpIHtcclxuICBjb25zb2xlLmVycm9yKFxyXG4gICAgJ01pc3NpbmcgZW52aXJvbm1lbnQgdmFyaWFibGVzOiBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgb3IgU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSdcclxuICApO1xyXG59XHJcblxyXG4vLyBVd2FnYTogVGVuIGtsaWVudCBtYSBwZcWCbmUgdXByYXduaWVuaWEgZG8gYmF6eSBkYW55Y2gsIHXFvHl3YWogb3N0cm/FvG5pZSFcclxuY29uc3Qgc3VwYWJhc2VBZG1pbiA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlS2V5LCB7XHJcbiAgYXV0aDoge1xyXG4gICAgcGVyc2lzdFNlc3Npb246IGZhbHNlLFxyXG4gICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBGdW5rY2phIHBvbW9jbmljemEgZG8gb2JzxYJ1Z2kgYsWCxJlkw7N3IFN1cGFiYXNlXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVTdXBhYmFzZUFkbWluRXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBBZG1pbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIGVycm9yOiB0cnVlLFxyXG4gICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB8fCAnTmllb2N6ZWtpd2FueSBixYLEhWQgYWRtaW5pc3RyYXRvcmEnLFxyXG4gICAgY29kZTogZXJyb3IuY29kZSB8fCAndW5rbm93bl9lcnJvcicsXHJcbiAgICBkZXRhaWxzOiBlcnJvci5kZXRhaWxzIHx8IG51bGwsXHJcbiAgfTtcclxufTtcclxuXHJcbi8vIEZ1bmtjamUgYWRtaW5pc3RyYXRvcmEgZG8gemFyesSFZHphbmlhIHXFvHl0a293bmlrYW1pXHJcblxyXG4vLyBGdW5rY2phIGRvIHR3b3J6ZW5pYSBwcm9maWx1IHXFvHl0a293bmlrYSBwcnpleiBhZG1pbmlzdHJhdG9yYVxyXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlclByb2ZpbGVBZG1pbiA9IGFzeW5jICh1c2VyUHJvZmlsZSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcclxuICAgICAgLmluc2VydChbdXNlclByb2ZpbGVdKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICcyMzUwNScpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0FkbWluOiBQcsOzYmEgdXR3b3J6ZW5pYSBkdXBsaWthdHUgcHJvZmlsdSB1xbx5dGtvd25pa2E6JywgZXJyb3IpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEplxZtsaSBwcm9maWwganXFvCBpc3RuaWVqZSwgcG9iaWVyeiBnb1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdVc2VyLCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxyXG4gICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAuZXEoJ2V4dGVybmFsX2F1dGhfaWQnLCB1c2VyUHJvZmlsZS5leHRlcm5hbF9hdXRoX2lkKVxyXG4gICAgICAgICAgLnNpbmdsZSgpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgaWYgKGZldGNoRXJyb3IpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmllIG1vxbxuYSBwb2JyYcSHIGlzdG5pZWrEhWNlZ28gcHJvZmlsdTogJyArIGZldGNoRXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBleGlzdGluZ1VzZXI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgJ05pZSB1ZGHFgm8gc2nEmSB1dHdvcnp5xIcgcHJvZmlsdSB1xbx5dGtvd25pa2EnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgaGFuZGxlU3VwYWJhc2VBZG1pbkVycm9yKGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEZ1bmtjamEgZG8gcG9iaWVyYW5pYSBwcm9maWx1IHXFvHl0a293bmlrYSBwcnpleiBhZG1pbmlzdHJhdG9yYVxyXG5leHBvcnQgY29uc3QgZ2V0VXNlckJ5QXV0aElkQWRtaW4gPSBhc3luYyAoYXV0aElkKSA9PiB7XHJcbiAgaWYgKCFhdXRoSWQpIHJldHVybiBudWxsO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnZXh0ZXJuYWxfYXV0aF9pZCcsIGF1dGhJZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicpIHtcclxuICAgICAgICAvLyBOaWUgem5hbGV6aW9ubyAtIHRvIG5vcm1hbG55IHByenlwYWRla1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FkbWluOiBCxYLEhWQgcG9iaWVyYW5pYSBwcm9maWx1IHXFvHl0a293bmlrYTonLCBlcnJvcik7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgJ05pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIHByb2ZpbHUgdcW8eXRrb3duaWthJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGhhbmRsZVN1cGFiYXNlQWRtaW5FcnJvcihlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBGdW5rY2phIGRvIGFrdHVhbGl6YWNqaSBwcm9maWx1IHXFvHl0a293bmlrYSBwcnpleiBhZG1pbmlzdHJhdG9yYVxyXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclByb2ZpbGVBZG1pbiA9IGFzeW5jICh1c2VySWQsIHVwZGF0ZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIHVzZXJJZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGhhbmRsZVN1cGFiYXNlQWRtaW5FcnJvcihlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBGdW5rY2phIGRvIHBvYmllcmFuaWEgcGxhdGZvcm0gc3Vic2tyeXBjeWpueWNoIHByemV6IGFkbWluaXN0cmF0b3JhXHJcbmV4cG9ydCBjb25zdCBnZXRTdWJzY3JpcHRpb25QbGF0Zm9ybXNBZG1pbiA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnc3Vic2NyaXB0aW9uX3BsYXRmb3JtcycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAub3JkZXIoJ25hbWUnKTtcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGhhbmRsZVN1cGFiYXNlQWRtaW5FcnJvcihlcnJvcik7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gRnVua2NqYSBkbyBwb2JpZXJhbmlhIGN6xYJvbmvDs3cgZ3J1cHkgcHJ6ZXogYWRtaW5pc3RyYXRvcmFcclxuZXhwb3J0IGNvbnN0IGdldEdyb3VwTWVtYmVyc0FkbWluID0gYXN5bmMgKGdyb3VwSWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnZ3JvdXBfbWVtYmVycycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICosXHJcbiAgICAgICAgdXNlcjp1c2VyX3Byb2ZpbGVzKGlkLCBkaXNwbGF5X25hbWUsIGF2YXRhcl91cmwsIGVtYWlsKVxyXG4gICAgICBgKVxyXG4gICAgICAuZXEoJ2dyb3VwX2lkJywgZ3JvdXBJZCk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBoYW5kbGVTdXBhYmFzZUFkbWluRXJyb3IoZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFphcGlzeiB3c3p5c3RraWUgYWt0eXdub8WbY2kgYWRtaW5pc3RyYXRvcmEgZG8gbG9ndSBiZXpwaWVjemXFhHN0d2FcclxuZXhwb3J0IGNvbnN0IGxvZ0FkbWluQWN0aXZpdHkgPSBhc3luYyAoYWN0aW9uLCByZXNvdXJjZVR5cGUsIHJlc291cmNlSWQsIGRldGFpbHMgPSB7fSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdzZWN1cml0eV9sb2dzJylcclxuICAgICAgLmluc2VydChbe1xyXG4gICAgICAgIGFjdGlvbl90eXBlOiBhY3Rpb24sXHJcbiAgICAgICAgcmVzb3VyY2VfdHlwZTogcmVzb3VyY2VUeXBlLFxyXG4gICAgICAgIHJlc291cmNlX2lkOiByZXNvdXJjZUlkLFxyXG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgIGRldGFpbHM6IGRldGFpbHMsXHJcbiAgICAgIH1dKTtcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSBjb25zb2xlLmVycm9yKCdCxYLEhWQgbG9nb3dhbmlhIGFrdHl3bm/Fm2NpIGFkbWluaXN0cmF0b3JhOicsIGVycm9yKTtcclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdXeWrEhXRlayBwb2RjemFzIGxvZ293YW5pYSBha3R5d25vxZtjaSBhZG1pbmlzdHJhdG9yYTonLCBlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gRWtzcG9ydCBrbGllbnRhIGFkbWluaXN0cmF0b3JhIGpha28gZG9tecWbbG55XHJcbmV4cG9ydCBkZWZhdWx0IHN1cGFiYXNlQWRtaW47Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlU2VydmljZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJjb25zb2xlIiwiZXJyb3IiLCJzdXBhYmFzZUFkbWluIiwiYXV0aCIsInBlcnNpc3RTZXNzaW9uIiwiYXV0b1JlZnJlc2hUb2tlbiIsImhhbmRsZVN1cGFiYXNlQWRtaW5FcnJvciIsIm1lc3NhZ2UiLCJjb2RlIiwiZGV0YWlscyIsImNyZWF0ZVVzZXJQcm9maWxlQWRtaW4iLCJ1c2VyUHJvZmlsZSIsImRhdGEiLCJmcm9tIiwiaW5zZXJ0Iiwic2VsZWN0Iiwic2luZ2xlIiwid2FybiIsImV4aXN0aW5nVXNlciIsImZldGNoRXJyb3IiLCJlcSIsImV4dGVybmFsX2F1dGhfaWQiLCJFcnJvciIsImdldFVzZXJCeUF1dGhJZEFkbWluIiwiYXV0aElkIiwidXBkYXRlVXNlclByb2ZpbGVBZG1pbiIsInVzZXJJZCIsInVwZGF0ZXMiLCJ1cGRhdGUiLCJnZXRTdWJzY3JpcHRpb25QbGF0Zm9ybXNBZG1pbiIsIm9yZGVyIiwiZ2V0R3JvdXBNZW1iZXJzQWRtaW4iLCJncm91cElkIiwibG9nQWRtaW5BY3Rpdml0eSIsImFjdGlvbiIsInJlc291cmNlVHlwZSIsInJlc291cmNlSWQiLCJhY3Rpb25fdHlwZSIsInJlc291cmNlX3R5cGUiLCJyZXNvdXJjZV9pZCIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/database/supabase-admin-client.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@clerk","vendor-chunks/next","vendor-chunks/tslib","vendor-chunks/cookie","vendor-chunks/map-obj","vendor-chunks/no-case","vendor-chunks/lower-case","vendor-chunks/snakecase-keys","vendor-chunks/snake-case","vendor-chunks/dot-case","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute&page=%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgroups%2F%5Bid%5D%2Fmembers%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();