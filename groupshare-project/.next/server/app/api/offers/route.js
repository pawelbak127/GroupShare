"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/offers/route";
exports.ids = ["app/api/offers/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foffers%2Froute&page=%2Fapi%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foffers%2Froute.js&appDir=C%3A%5CUsers%5Cpawbak2%5CProjects%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpawbak2%5CProjects%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foffers%2Froute&page=%2Fapi%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foffers%2Froute.js&appDir=C%3A%5CUsers%5Cpawbak2%5CProjects%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpawbak2%5CProjects%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_pawbak2_Projects_GroupShare_groupshare_project_src_app_api_offers_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/offers/route.js */ \"(rsc)/./src/app/api/offers/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/offers/route\",\n        pathname: \"/api/offers\",\n        filename: \"route\",\n        bundlePath: \"app/api/offers/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\pawbak2\\\\Projects\\\\GroupShare\\\\groupshare-project\\\\src\\\\app\\\\api\\\\offers\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_pawbak2_Projects_GroupShare_groupshare_project_src_app_api_offers_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/offers/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvZmZlcnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm9mZmVycyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm9mZmVycyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNwYXdiYWsyJTVDUHJvamVjdHMlNUNHcm91cFNoYXJlJTVDZ3JvdXBzaGFyZS1wcm9qZWN0JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNwYXdiYWsyJTVDUHJvamVjdHMlNUNHcm91cFNoYXJlJTVDZ3JvdXBzaGFyZS1wcm9qZWN0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM2QztBQUMxSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyb3Vwc2hhcmUtcHJvamVjdC8/ODY3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxwYXdiYWsyXFxcXFByb2plY3RzXFxcXEdyb3VwU2hhcmVcXFxcZ3JvdXBzaGFyZS1wcm9qZWN0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXG9mZmVyc1xcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvb2ZmZXJzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvb2ZmZXJzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9vZmZlcnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxwYXdiYWsyXFxcXFByb2plY3RzXFxcXEdyb3VwU2hhcmVcXFxcZ3JvdXBzaGFyZS1wcm9qZWN0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXG9mZmVyc1xcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvb2ZmZXJzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foffers%2Froute&page=%2Fapi%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foffers%2Froute.js&appDir=C%3A%5CUsers%5Cpawbak2%5CProjects%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpawbak2%5CProjects%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/offers/route.js":
/*!*************************************!*\
  !*** ./src/app/api/offers/route.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/currentUser.js\");\n/* harmony import */ var _lib_supabase_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/supabase-client */ \"(rsc)/./src/lib/supabase-client.js\");\n\n\n\n/**\r\n * GET /api/offers\r\n * Get subscription offers with optional filtering\r\n */ async function GET(request) {\n    try {\n        // Parse query parameters\n        const { searchParams } = new URL(request.url);\n        // Parse filters from query parameters\n        const filters = {\n            platformId: searchParams.get(\"platformId\") || undefined,\n            minPrice: searchParams.get(\"minPrice\") ? parseFloat(searchParams.get(\"minPrice\")) : undefined,\n            maxPrice: searchParams.get(\"maxPrice\") ? parseFloat(searchParams.get(\"maxPrice\")) : undefined,\n            availableSlots: searchParams.get(\"availableSlots\") !== \"false\",\n            orderBy: searchParams.get(\"orderBy\") || \"created_at\",\n            ascending: searchParams.get(\"ascending\") === \"true\",\n            limit: searchParams.get(\"limit\") ? parseInt(searchParams.get(\"limit\")) : 10,\n            offset: searchParams.get(\"offset\") ? parseInt(searchParams.get(\"offset\")) : 0\n        };\n        // Anonimowy klient Supabase dla publicznych ofert\n        const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_1__.getSupabaseClient)();\n        // Start with base query\n        let query = supabase.from(\"group_subs\").select(`\r\n        *,\r\n        subscription_platforms(*),\r\n        groups(id, name),\r\n        owner:groups!inner(owner_id, user_profiles!inner(id, display_name, avatar_url, rating_avg, rating_count, verification_level))\r\n      `).eq(\"status\", \"active\");\n        // Apply filters\n        if (filters.platformId) {\n            query = query.eq(\"platform_id\", filters.platformId);\n        }\n        if (filters.minPrice !== undefined) {\n            query = query.gte(\"price_per_slot\", filters.minPrice);\n        }\n        if (filters.maxPrice !== undefined) {\n            query = query.lte(\"price_per_slot\", filters.maxPrice);\n        }\n        if (filters.availableSlots === true) {\n            query = query.gt(\"slots_available\", 0);\n        }\n        // Add ordering\n        const orderBy = filters.orderBy || \"created_at\";\n        const ascending = filters.ascending === true;\n        query = query.order(orderBy, {\n            ascending\n        });\n        // Add pagination\n        if (filters.limit) {\n            query = query.limit(filters.limit);\n        }\n        if (filters.offset) {\n            query = query.range(filters.offset, filters.offset + (filters.limit || 10) - 1);\n        }\n        const { data, error } = await query;\n        if (error) throw error;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data);\n    } catch (error) {\n        console.error(\"Error fetching offers:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Failed to fetch subscription offers\",\n            code: error.code || \"unknown\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\r\n * POST /api/offers\r\n * Create a new subscription offer\r\n */ async function POST(request) {\n    try {\n        // Verify user is authenticated\n        const user = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Uzyskaj token Supabase z sesji Clerk\n        const supabaseToken = await user.getToken({\n            template: \"supabase\"\n        });\n        const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_1__.getSupabaseClient)(supabaseToken);\n        // Parse request body\n        const body = await request.json();\n        // Validate required fields\n        const requiredFields = [\n            \"groupId\",\n            \"platformId\",\n            \"slotsTotal\",\n            \"pricePerSlot\",\n            \"accessInstructions\"\n        ];\n        for (const field of requiredFields){\n            if (!body[field]) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: `Missing required field: ${field}`\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Validate numeric fields\n        if (isNaN(parseFloat(body.pricePerSlot)) || parseFloat(body.pricePerSlot) <= 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Price per slot must be a positive number\"\n            }, {\n                status: 400\n            });\n        }\n        if (!Number.isInteger(body.slotsTotal) || body.slotsTotal <= 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Slots total must be a positive integer\"\n            }, {\n                status: 400\n            });\n        }\n        // Przygotowanie danych oferty\n        const offerData = {\n            group_id: body.groupId,\n            platform_id: body.platformId,\n            status: \"active\",\n            slots_total: body.slotsTotal,\n            slots_available: body.slotsTotal,\n            price_per_slot: body.pricePerSlot,\n            currency: body.currency || \"PLN\"\n        };\n        // Tworzenie oferty w Supabase z wykorzystaniem RLS\n        const { data: offer, error: offerError } = await supabase.from(\"group_subs\").insert(offerData).select().single();\n        if (offerError) {\n            console.error(\"Error creating offer:\", offerError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: offerError.message || \"Failed to create offer\"\n            }, {\n                status: 500\n            });\n        }\n        // Store access instructions\n        try {\n            const instructionsResponse = await fetch(`${\"http://localhost:3000\"}/api/access-instructions`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${supabaseToken}`\n                },\n                body: JSON.stringify({\n                    groupSubId: offer.id,\n                    instructions: body.accessInstructions\n                })\n            });\n            if (!instructionsResponse.ok) {\n                const errorData = await instructionsResponse.json();\n                console.error(\"Failed to save access instructions:\", errorData);\n            }\n        } catch (error) {\n            console.error(\"Error saving access instructions:\", error);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(offer, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error creating offer:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Failed to create subscription offer\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMscUNBQXFDQTtRQUNyRDtRQUVBLE9BQU9oQyxxREFBWUEsQ0FBQ2lDLElBQUksQ0FBQzBCLE9BQU87WUFBRXRCLFFBQVE7UUFBSTtJQUNoRCxFQUFFLE9BQU9MLE9BQU87UUFDZEUsUUFBUUYsS0FBSyxDQUFDLHlCQUF5QkE7UUFDdkMsT0FBT2hDLHFEQUFZQSxDQUFDaUMsSUFBSSxDQUN0QjtZQUFFRCxPQUFPQSxNQUFNRyxPQUFPLElBQUk7UUFBc0MsR0FDaEU7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncm91cHNoYXJlLXByb2plY3QvLi9zcmMvYXBwL2FwaS9vZmZlcnMvcm91dGUuanM/OWYzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGN1cnJlbnRVc2VyIH0gZnJvbSAnQGNsZXJrL25leHRqcy9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBnZXRTdXBhYmFzZUNsaWVudCB9IGZyb20gJy4uLy4uLy4uL2xpYi9zdXBhYmFzZS1jbGllbnQnO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL29mZmVyc1xyXG4gKiBHZXQgc3Vic2NyaXB0aW9uIG9mZmVycyB3aXRoIG9wdGlvbmFsIGZpbHRlcmluZ1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFBhcnNlIHF1ZXJ5IHBhcmFtZXRlcnNcclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICAgIFxyXG4gICAgLy8gUGFyc2UgZmlsdGVycyBmcm9tIHF1ZXJ5IHBhcmFtZXRlcnNcclxuICAgIGNvbnN0IGZpbHRlcnMgPSB7XHJcbiAgICAgIHBsYXRmb3JtSWQ6IHNlYXJjaFBhcmFtcy5nZXQoJ3BsYXRmb3JtSWQnKSB8fCB1bmRlZmluZWQsXHJcbiAgICAgIG1pblByaWNlOiBzZWFyY2hQYXJhbXMuZ2V0KCdtaW5QcmljZScpID8gcGFyc2VGbG9hdChzZWFyY2hQYXJhbXMuZ2V0KCdtaW5QcmljZScpKSA6IHVuZGVmaW5lZCxcclxuICAgICAgbWF4UHJpY2U6IHNlYXJjaFBhcmFtcy5nZXQoJ21heFByaWNlJykgPyBwYXJzZUZsb2F0KHNlYXJjaFBhcmFtcy5nZXQoJ21heFByaWNlJykpIDogdW5kZWZpbmVkLFxyXG4gICAgICBhdmFpbGFibGVTbG90czogc2VhcmNoUGFyYW1zLmdldCgnYXZhaWxhYmxlU2xvdHMnKSAhPT0gJ2ZhbHNlJywgLy8gRGVmYXVsdCB0byB0cnVlXHJcbiAgICAgIG9yZGVyQnk6IHNlYXJjaFBhcmFtcy5nZXQoJ29yZGVyQnknKSB8fCAnY3JlYXRlZF9hdCcsXHJcbiAgICAgIGFzY2VuZGluZzogc2VhcmNoUGFyYW1zLmdldCgnYXNjZW5kaW5nJykgPT09ICd0cnVlJyxcclxuICAgICAgbGltaXQ6IHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgPyBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpKSA6IDEwLFxyXG4gICAgICBvZmZzZXQ6IHNlYXJjaFBhcmFtcy5nZXQoJ29mZnNldCcpID8gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnb2Zmc2V0JykpIDogMFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gQW5vbmltb3d5IGtsaWVudCBTdXBhYmFzZSBkbGEgcHVibGljem55Y2ggb2ZlcnRcclxuICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcclxuICAgIFxyXG4gICAgLy8gU3RhcnQgd2l0aCBiYXNlIHF1ZXJ5XHJcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnZ3JvdXBfc3VicycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICosXHJcbiAgICAgICAgc3Vic2NyaXB0aW9uX3BsYXRmb3JtcygqKSxcclxuICAgICAgICBncm91cHMoaWQsIG5hbWUpLFxyXG4gICAgICAgIG93bmVyOmdyb3VwcyFpbm5lcihvd25lcl9pZCwgdXNlcl9wcm9maWxlcyFpbm5lcihpZCwgZGlzcGxheV9uYW1lLCBhdmF0YXJfdXJsLCByYXRpbmdfYXZnLCByYXRpbmdfY291bnQsIHZlcmlmaWNhdGlvbl9sZXZlbCkpXHJcbiAgICAgIGApXHJcbiAgICAgIC5lcSgnc3RhdHVzJywgJ2FjdGl2ZScpO1xyXG4gICAgXHJcbiAgICAvLyBBcHBseSBmaWx0ZXJzXHJcbiAgICBpZiAoZmlsdGVycy5wbGF0Zm9ybUlkKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3BsYXRmb3JtX2lkJywgZmlsdGVycy5wbGF0Zm9ybUlkKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGZpbHRlcnMubWluUHJpY2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZSgncHJpY2VfcGVyX3Nsb3QnLCBmaWx0ZXJzLm1pblByaWNlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGZpbHRlcnMubWF4UHJpY2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5Lmx0ZSgncHJpY2VfcGVyX3Nsb3QnLCBmaWx0ZXJzLm1heFByaWNlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGZpbHRlcnMuYXZhaWxhYmxlU2xvdHMgPT09IHRydWUpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5ndCgnc2xvdHNfYXZhaWxhYmxlJywgMCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEFkZCBvcmRlcmluZ1xyXG4gICAgY29uc3Qgb3JkZXJCeSA9IGZpbHRlcnMub3JkZXJCeSB8fCAnY3JlYXRlZF9hdCc7XHJcbiAgICBjb25zdCBhc2NlbmRpbmcgPSBmaWx0ZXJzLmFzY2VuZGluZyA9PT0gdHJ1ZTtcclxuICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIob3JkZXJCeSwgeyBhc2NlbmRpbmcgfSk7XHJcbiAgICBcclxuICAgIC8vIEFkZCBwYWdpbmF0aW9uXHJcbiAgICBpZiAoZmlsdGVycy5saW1pdCkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LmxpbWl0KGZpbHRlcnMubGltaXQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZmlsdGVycy5vZmZzZXQpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5yYW5nZShmaWx0ZXJzLm9mZnNldCwgZmlsdGVycy5vZmZzZXQgKyAoZmlsdGVycy5saW1pdCB8fCAxMCkgLSAxKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihkYXRhKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgb2ZmZXJzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHN1YnNjcmlwdGlvbiBvZmZlcnMnLCBjb2RlOiBlcnJvci5jb2RlIHx8ICd1bmtub3duJyB9LCBcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS9vZmZlcnNcclxuICogQ3JlYXRlIGEgbmV3IHN1YnNjcmlwdGlvbiBvZmZlclxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBWZXJpZnkgdXNlciBpcyBhdXRoZW50aWNhdGVkXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgY3VycmVudFVzZXIoKTtcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVXp5c2thaiB0b2tlbiBTdXBhYmFzZSB6IHNlc2ppIENsZXJrXHJcbiAgICBjb25zdCBzdXBhYmFzZVRva2VuID0gYXdhaXQgdXNlci5nZXRUb2tlbih7IHRlbXBsYXRlOiAnc3VwYWJhc2UnIH0pO1xyXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudChzdXBhYmFzZVRva2VuKTtcclxuICAgIFxyXG4gICAgLy8gUGFyc2UgcmVxdWVzdCBib2R5XHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBcclxuICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xyXG4gICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBbJ2dyb3VwSWQnLCAncGxhdGZvcm1JZCcsICdzbG90c1RvdGFsJywgJ3ByaWNlUGVyU2xvdCcsICdhY2Nlc3NJbnN0cnVjdGlvbnMnXTtcclxuICAgIGZvciAoY29uc3QgZmllbGQgb2YgcmVxdWlyZWRGaWVsZHMpIHtcclxuICAgICAgaWYgKCFib2R5W2ZpZWxkXSkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgZXJyb3I6IGBNaXNzaW5nIHJlcXVpcmVkIGZpZWxkOiAke2ZpZWxkfWAgfSxcclxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVmFsaWRhdGUgbnVtZXJpYyBmaWVsZHNcclxuICAgIGlmIChpc05hTihwYXJzZUZsb2F0KGJvZHkucHJpY2VQZXJTbG90KSkgfHwgcGFyc2VGbG9hdChib2R5LnByaWNlUGVyU2xvdCkgPD0gMCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ1ByaWNlIHBlciBzbG90IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihib2R5LnNsb3RzVG90YWwpIHx8IGJvZHkuc2xvdHNUb3RhbCA8PSAwKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnU2xvdHMgdG90YWwgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXInIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFByenlnb3Rvd2FuaWUgZGFueWNoIG9mZXJ0eVxyXG4gICAgY29uc3Qgb2ZmZXJEYXRhID0ge1xyXG4gICAgICBncm91cF9pZDogYm9keS5ncm91cElkLFxyXG4gICAgICBwbGF0Zm9ybV9pZDogYm9keS5wbGF0Zm9ybUlkLFxyXG4gICAgICBzdGF0dXM6ICdhY3RpdmUnLFxyXG4gICAgICBzbG90c190b3RhbDogYm9keS5zbG90c1RvdGFsLFxyXG4gICAgICBzbG90c19hdmFpbGFibGU6IGJvZHkuc2xvdHNUb3RhbCxcclxuICAgICAgcHJpY2VfcGVyX3Nsb3Q6IGJvZHkucHJpY2VQZXJTbG90LFxyXG4gICAgICBjdXJyZW5jeTogYm9keS5jdXJyZW5jeSB8fCAnUExOJ1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gVHdvcnplbmllIG9mZXJ0eSB3IFN1cGFiYXNlIHogd3lrb3J6eXN0YW5pZW0gUkxTXHJcbiAgICBjb25zdCB7IGRhdGE6IG9mZmVyLCBlcnJvcjogb2ZmZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2dyb3VwX3N1YnMnKVxyXG4gICAgICAuaW5zZXJ0KG9mZmVyRGF0YSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuICAgICAgXHJcbiAgICBpZiAob2ZmZXJFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBvZmZlcjonLCBvZmZlckVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6IG9mZmVyRXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBvZmZlcicgfSxcclxuICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU3RvcmUgYWNjZXNzIGluc3RydWN0aW9uc1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25zUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMfS9hcGkvYWNjZXNzLWluc3RydWN0aW9uc2AsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7c3VwYWJhc2VUb2tlbn1gXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBncm91cFN1YklkOiBvZmZlci5pZCxcclxuICAgICAgICAgIGluc3RydWN0aW9uczogYm9keS5hY2Nlc3NJbnN0cnVjdGlvbnNcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghaW5zdHJ1Y3Rpb25zUmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCBpbnN0cnVjdGlvbnNSZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgYWNjZXNzIGluc3RydWN0aW9uczonLCBlcnJvckRhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYWNjZXNzIGluc3RydWN0aW9uczonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihvZmZlciwgeyBzdGF0dXM6IDIwMSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgb2ZmZXI6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIHN1YnNjcmlwdGlvbiBvZmZlcicgfSwgXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3VycmVudFVzZXIiLCJnZXRTdXBhYmFzZUNsaWVudCIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJmaWx0ZXJzIiwicGxhdGZvcm1JZCIsImdldCIsInVuZGVmaW5lZCIsIm1pblByaWNlIiwicGFyc2VGbG9hdCIsIm1heFByaWNlIiwiYXZhaWxhYmxlU2xvdHMiLCJvcmRlckJ5IiwiYXNjZW5kaW5nIiwibGltaXQiLCJwYXJzZUludCIsIm9mZnNldCIsInN1cGFiYXNlIiwicXVlcnkiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJndGUiLCJsdGUiLCJndCIsIm9yZGVyIiwicmFuZ2UiLCJkYXRhIiwiZXJyb3IiLCJqc29uIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJjb2RlIiwic3RhdHVzIiwiUE9TVCIsInVzZXIiLCJzdXBhYmFzZVRva2VuIiwiZ2V0VG9rZW4iLCJ0ZW1wbGF0ZSIsImJvZHkiLCJyZXF1aXJlZEZpZWxkcyIsImZpZWxkIiwiaXNOYU4iLCJwcmljZVBlclNsb3QiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJzbG90c1RvdGFsIiwib2ZmZXJEYXRhIiwiZ3JvdXBfaWQiLCJncm91cElkIiwicGxhdGZvcm1faWQiLCJzbG90c190b3RhbCIsInNsb3RzX2F2YWlsYWJsZSIsInByaWNlX3Blcl9zbG90IiwiY3VycmVuY3kiLCJvZmZlciIsIm9mZmVyRXJyb3IiLCJpbnNlcnQiLCJzaW5nbGUiLCJpbnN0cnVjdGlvbnNSZXNwb25zZSIsImZldGNoIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQUF9VUkwiLCJtZXRob2QiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsImdyb3VwU3ViSWQiLCJpZCIsImluc3RydWN0aW9ucyIsImFjY2Vzc0luc3RydWN0aW9ucyIsIm9rIiwiZXJyb3JEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/offers/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase-client.js":
/*!************************************!*\
  !*** ./src/lib/supabase-client.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getSupabaseClient: () => (/* binding */ getSupabaseClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://twiarwghktzljergqfsm.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3aWFyd2doa3R6bGplcmdxZnNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM3MTMwNzgsImV4cCI6MjA1OTI4OTA3OH0.WJqpXziIp05aQLKpFhdqUZQNoF6JRqRTLKY1X4TEn2c\";\n// Funkcja tworząca klienta Supabase z opcjonalnym tokenem sesji\nfunction getSupabaseClient(sessionToken = null) {\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey, {\n        global: {\n            headers: sessionToken ? {\n                Authorization: `Bearer ${sessionToken}`\n            } : {}\n        },\n        auth: {\n            persistSession: false\n        }\n    });\n}\n// Klient anonimowy do operacji niewymagających uwierzytelnienia\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLWNsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUQ7QUFFckQsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBRWpFLGdFQUFnRTtBQUN6RCxTQUFTSyxrQkFBa0JDLGVBQWUsSUFBSTtJQUNuRCxPQUFPUixtRUFBWUEsQ0FBQ0MsYUFBYUksaUJBQWlCO1FBQ2hESSxRQUFRO1lBQ05DLFNBQVNGLGVBQWU7Z0JBQ3RCRyxlQUFlLENBQUMsT0FBTyxFQUFFSCxhQUFhLENBQUM7WUFDekMsSUFBSSxDQUFDO1FBQ1A7UUFDQUksTUFBTTtZQUNKQyxnQkFBZ0I7UUFDbEI7SUFDRjtBQUNGO0FBRUEsZ0VBQWdFO0FBQ2hFLE1BQU1DLFdBQVdkLG1FQUFZQSxDQUFDQyxhQUFhSTtBQUUzQyxpRUFBZVMsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dyb3Vwc2hhcmUtcHJvamVjdC8uL3NyYy9saWIvc3VwYWJhc2UtY2xpZW50LmpzPzZiMjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xyXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcclxuXHJcbi8vIEZ1bmtjamEgdHdvcnrEhWNhIGtsaWVudGEgU3VwYWJhc2UgeiBvcGNqb25hbG55bSB0b2tlbmVtIHNlc2ppXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdXBhYmFzZUNsaWVudChzZXNzaW9uVG9rZW4gPSBudWxsKSB7XHJcbiAgcmV0dXJuIGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5LCB7XHJcbiAgICBnbG9iYWw6IHtcclxuICAgICAgaGVhZGVyczogc2Vzc2lvblRva2VuID8ge1xyXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtzZXNzaW9uVG9rZW59YFxyXG4gICAgICB9IDoge31cclxuICAgIH0sXHJcbiAgICBhdXRoOiB7XHJcbiAgICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZVxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBLbGllbnQgYW5vbmltb3d5IGRvIG9wZXJhY2ppIG5pZXd5bWFnYWrEhWN5Y2ggdXdpZXJ6eXRlbG5pZW5pYVxyXG5jb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHN1cGFiYXNlOyJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldFN1cGFiYXNlQ2xpZW50Iiwic2Vzc2lvblRva2VuIiwiZ2xvYmFsIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJhdXRoIiwicGVyc2lzdFNlc3Npb24iLCJzdXBhYmFzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase-client.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@clerk","vendor-chunks/next","vendor-chunks/tslib","vendor-chunks/cookie","vendor-chunks/map-obj","vendor-chunks/no-case","vendor-chunks/lower-case","vendor-chunks/snakecase-keys","vendor-chunks/snake-case","vendor-chunks/dot-case","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foffers%2Froute&page=%2Fapi%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foffers%2Froute.js&appDir=C%3A%5CUsers%5Cpawbak2%5CProjects%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpawbak2%5CProjects%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();