"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/applications/route";
exports.ids = ["app/api/applications/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fapplications%2Froute&page=%2Fapi%2Fapplications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fapplications%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fapplications%2Froute&page=%2Fapi%2Fapplications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fapplications%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_bacze_Project_GroupShare_groupshare_project_src_app_api_applications_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/applications/route.js */ \"(rsc)/./src/app/api/applications/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/applications/route\",\n        pathname: \"/api/applications\",\n        filename: \"route\",\n        bundlePath: \"app/api/applications/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\bacze\\\\Project\\\\GroupShare\\\\groupshare-project\\\\src\\\\app\\\\api\\\\applications\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_bacze_Project_GroupShare_groupshare_project_src_app_api_applications_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/applications/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhcHBsaWNhdGlvbnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFwcGxpY2F0aW9ucyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFwcGxpY2F0aW9ucyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNiYWN6ZSU1Q1Byb2plY3QlNUNHcm91cFNoYXJlJTVDZ3JvdXBzaGFyZS1wcm9qZWN0JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNiYWN6ZSU1Q1Byb2plY3QlNUNHcm91cFNoYXJlJTVDZ3JvdXBzaGFyZS1wcm9qZWN0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNnRDtBQUM3SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyb3Vwc2hhcmUtcHJvamVjdC8/OWU2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxiYWN6ZVxcXFxQcm9qZWN0XFxcXEdyb3VwU2hhcmVcXFxcZ3JvdXBzaGFyZS1wcm9qZWN0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGFwcGxpY2F0aW9uc1xcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXBwbGljYXRpb25zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXBwbGljYXRpb25zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hcHBsaWNhdGlvbnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxiYWN6ZVxcXFxQcm9qZWN0XFxcXEdyb3VwU2hhcmVcXFxcZ3JvdXBzaGFyZS1wcm9qZWN0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGFwcGxpY2F0aW9uc1xcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYXBwbGljYXRpb25zL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fapplications%2Froute&page=%2Fapi%2Fapplications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fapplications%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/applications/route.js":
/*!*******************************************!*\
  !*** ./src/app/api/applications/route.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @clerk/nextjs */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/index.js\");\n/* harmony import */ var _lib_supabase_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/supabase-client */ \"(rsc)/./src/lib/supabase-client.js\");\n\n\n\n/**\r\n * GET /api/applications\r\n * Pobiera aplikacje użytkownika\r\n */ async function GET(request) {\n    try {\n        // Sprawdź autentykację\n        const user = await (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Parsuj parametry zapytania\n        const { searchParams } = new URL(request.url);\n        const status = searchParams.get(\"status\");\n        const active = searchParams.get(\"active\") === \"true\";\n        // Pobierz aplikacje użytkownika\n        let query = _lib_supabase_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"applications\").select(`\r\n        *,\r\n        group_sub:group_subs(\r\n          id, \r\n          price_per_slot,\r\n          currency,\r\n          instant_access,\r\n          subscription_platforms(id, name, icon),\r\n          groups(id, name)\r\n        ),\r\n        seller:group_subs(\r\n          groups(\r\n            owner_id, \r\n            user_profiles!inner(id, display_name, avatar_url)\r\n          )\r\n        )\r\n      `).eq(\"user_id\", user.id);\n        // Filtruj po statusie, jeśli podano\n        if (status) {\n            query = query.eq(\"status\", status);\n        }\n        // Filtruj tylko aktywne (nie zakończone) aplikacje\n        if (active) {\n            query = query.not(\"status\", \"in\", '(\"completed\",\"rejected\",\"cancelled\")');\n        }\n        // Sortuj od najnowszych\n        query = query.order(\"created_at\", {\n            ascending: false\n        });\n        const { data, error } = await query;\n        if (error) {\n            console.error(\"Error fetching applications:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch applications\"\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data);\n    } catch (error) {\n        console.error(\"Error in applications API:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"An unexpected error occurred\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\r\n * POST /api/applications\r\n * Tworzy nową aplikację\r\n */ async function POST(request) {\n    try {\n        // Sprawdź autentykację\n        const user = await (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Pobierz dane żądania\n        const body = await request.json();\n        const { groupSubId, message } = body;\n        if (!groupSubId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Group subscription ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Sprawdź, czy oferta istnieje i jest aktywna\n        const { data: offer, error: offerError } = await _lib_supabase_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"group_subs\").select(\"id, status, slots_available\").eq(\"id\", groupSubId).eq(\"status\", \"active\").single();\n        if (offerError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Subscription offer not found or not active\"\n            }, {\n                status: 404\n            });\n        }\n        // Sprawdź dostępność miejsc\n        if (offer.slots_available <= 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No available slots in this subscription offer\"\n            }, {\n                status: 400\n            });\n        }\n        // Sprawdź, czy użytkownik już nie złożył aplikacji do tej oferty\n        const { data: existingApp, error: existingAppError } = await _lib_supabase_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"applications\").select(\"id, status\").eq(\"user_id\", user.id).eq(\"group_sub_id\", groupSubId).not(\"status\", \"in\", '(\"rejected\",\"cancelled\")');\n        if (!existingAppError && existingApp && existingApp.length > 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"You already have an active application for this offer\"\n            }, {\n                status: 400\n            });\n        }\n        // Utwórz nową aplikację\n        const { data: application, error: createError } = await _lib_supabase_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"applications\").insert({\n            user_id: user.id,\n            group_sub_id: groupSubId,\n            message: message || \"\",\n            status: \"pending\",\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        }).select().single();\n        if (createError) {\n            console.error(\"Error creating application:\", createError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to create application\"\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(application, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error in create application API:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"An unexpected error occurred\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hcHBsaWNhdGlvbnMvcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkM7QUFDQztBQUNRO0FBRXBEOzs7Q0FHQyxHQUNNLGVBQWVHLElBQUlDLE9BQU87SUFDL0IsSUFBSTtRQUNGLHVCQUF1QjtRQUN2QixNQUFNQyxPQUFPLE1BQU1KLDBEQUFXQTtRQUM5QixJQUFJLENBQUNJLE1BQU07WUFDVCxPQUFPTCxxREFBWUEsQ0FBQ00sSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFlLEdBQ3hCO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSw2QkFBNkI7UUFDN0IsTUFBTSxFQUFFQyxZQUFZLEVBQUUsR0FBRyxJQUFJQyxJQUFJTixRQUFRTyxHQUFHO1FBQzVDLE1BQU1ILFNBQVNDLGFBQWFHLEdBQUcsQ0FBQztRQUNoQyxNQUFNQyxTQUFTSixhQUFhRyxHQUFHLENBQUMsY0FBYztRQUU5QyxnQ0FBZ0M7UUFDaEMsSUFBSUUsUUFBUVosNERBQVFBLENBQ2pCYSxJQUFJLENBQUMsZ0JBQ0xDLE1BQU0sQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O01BZ0JULENBQUMsRUFDQUMsRUFBRSxDQUFDLFdBQVdaLEtBQUthLEVBQUU7UUFFeEIsb0NBQW9DO1FBQ3BDLElBQUlWLFFBQVE7WUFDVk0sUUFBUUEsTUFBTUcsRUFBRSxDQUFDLFVBQVVUO1FBQzdCO1FBRUEsbURBQW1EO1FBQ25ELElBQUlLLFFBQVE7WUFDVkMsUUFBUUEsTUFBTUssR0FBRyxDQUFDLFVBQVUsTUFBTTtRQUNwQztRQUVBLHdCQUF3QjtRQUN4QkwsUUFBUUEsTUFBTU0sS0FBSyxDQUFDLGNBQWM7WUFBRUMsV0FBVztRQUFNO1FBRXJELE1BQU0sRUFBRUMsSUFBSSxFQUFFZixLQUFLLEVBQUUsR0FBRyxNQUFNTztRQUU5QixJQUFJUCxPQUFPO1lBQ1RnQixRQUFRaEIsS0FBSyxDQUFDLGdDQUFnQ0E7WUFDOUMsT0FBT1AscURBQVlBLENBQUNNLElBQUks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YUFBYTtZQUFFM0IsUUFBUTtRQUFJO0lBQ3RELEVBQUUsT0FBT0QsT0FBTztRQUNkZ0IsUUFBUWhCLEtBQUssQ0FBQyxvQ0FBb0NBO1FBQ2xELE9BQU9QLHFEQUFZQSxDQUFDTSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBK0IsR0FDeEM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncm91cHNoYXJlLXByb2plY3QvLi9zcmMvYXBwL2FwaS9hcHBsaWNhdGlvbnMvcm91dGUuanM/N2ZkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGN1cnJlbnRVc2VyIH0gZnJvbSAnQGNsZXJrL25leHRqcyc7XHJcbmltcG9ydCBzdXBhYmFzZSBmcm9tICcuLi8uLi8uLi9saWIvc3VwYWJhc2UtY2xpZW50JztcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS9hcHBsaWNhdGlvbnNcclxuICogUG9iaWVyYSBhcGxpa2FjamUgdcW8eXRrb3duaWthXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgLy8gU3ByYXdkxbogYXV0ZW50eWthY2rEmVxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGN1cnJlbnRVc2VyKCk7XHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFBhcnN1aiBwYXJhbWV0cnkgemFweXRhbmlhXHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICBjb25zdCBzdGF0dXMgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzdGF0dXMnKTtcclxuICAgIGNvbnN0IGFjdGl2ZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2FjdGl2ZScpID09PSAndHJ1ZSc7XHJcbiAgICBcclxuICAgIC8vIFBvYmllcnogYXBsaWthY2plIHXFvHl0a293bmlrYVxyXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2FwcGxpY2F0aW9ucycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICosXHJcbiAgICAgICAgZ3JvdXBfc3ViOmdyb3VwX3N1YnMoXHJcbiAgICAgICAgICBpZCwgXHJcbiAgICAgICAgICBwcmljZV9wZXJfc2xvdCxcclxuICAgICAgICAgIGN1cnJlbmN5LFxyXG4gICAgICAgICAgaW5zdGFudF9hY2Nlc3MsXHJcbiAgICAgICAgICBzdWJzY3JpcHRpb25fcGxhdGZvcm1zKGlkLCBuYW1lLCBpY29uKSxcclxuICAgICAgICAgIGdyb3VwcyhpZCwgbmFtZSlcclxuICAgICAgICApLFxyXG4gICAgICAgIHNlbGxlcjpncm91cF9zdWJzKFxyXG4gICAgICAgICAgZ3JvdXBzKFxyXG4gICAgICAgICAgICBvd25lcl9pZCwgXHJcbiAgICAgICAgICAgIHVzZXJfcHJvZmlsZXMhaW5uZXIoaWQsIGRpc3BsYXlfbmFtZSwgYXZhdGFyX3VybClcclxuICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICAgIGApXHJcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpO1xyXG4gICAgXHJcbiAgICAvLyBGaWx0cnVqIHBvIHN0YXR1c2llLCBqZcWbbGkgcG9kYW5vXHJcbiAgICBpZiAoc3RhdHVzKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3N0YXR1cycsIHN0YXR1cyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZpbHRydWogdHlsa28gYWt0eXduZSAobmllIHpha2/FhGN6b25lKSBhcGxpa2FjamVcclxuICAgIGlmIChhY3RpdmUpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5ub3QoJ3N0YXR1cycsICdpbicsICcoXCJjb21wbGV0ZWRcIixcInJlamVjdGVkXCIsXCJjYW5jZWxsZWRcIiknKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU29ydHVqIG9kIG5ham5vd3N6eWNoXHJcbiAgICBxdWVyeSA9IHF1ZXJ5Lm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xyXG4gICAgXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFwcGxpY2F0aW9uczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGFwcGxpY2F0aW9ucycgfSxcclxuICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGRhdGEpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBhcHBsaWNhdGlvbnMgQVBJOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvYXBwbGljYXRpb25zXHJcbiAqIFR3b3J6eSBub3fEhSBhcGxpa2FjasSZXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFNwcmF3ZMW6IGF1dGVudHlrYWNqxJlcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjdXJyZW50VXNlcigpO1xyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBQb2JpZXJ6IGRhbmUgxbzEhWRhbmlhXHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBjb25zdCB7IGdyb3VwU3ViSWQsIG1lc3NhZ2UgfSA9IGJvZHk7XHJcbiAgICBcclxuICAgIGlmICghZ3JvdXBTdWJJZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0dyb3VwIHN1YnNjcmlwdGlvbiBJRCBpcyByZXF1aXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU3ByYXdkxbosIGN6eSBvZmVydGEgaXN0bmllamUgaSBqZXN0IGFrdHl3bmFcclxuICAgIGNvbnN0IHsgZGF0YTogb2ZmZXIsIGVycm9yOiBvZmZlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnZ3JvdXBfc3VicycpXHJcbiAgICAgIC5zZWxlY3QoJ2lkLCBzdGF0dXMsIHNsb3RzX2F2YWlsYWJsZScpXHJcbiAgICAgIC5lcSgnaWQnLCBncm91cFN1YklkKVxyXG4gICAgICAuZXEoJ3N0YXR1cycsICdhY3RpdmUnKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChvZmZlckVycm9yKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnU3Vic2NyaXB0aW9uIG9mZmVyIG5vdCBmb3VuZCBvciBub3QgYWN0aXZlJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiBkb3N0xJlwbm/Fm8SHIG1pZWpzY1xyXG4gICAgaWYgKG9mZmVyLnNsb3RzX2F2YWlsYWJsZSA8PSAwKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnTm8gYXZhaWxhYmxlIHNsb3RzIGluIHRoaXMgc3Vic2NyaXB0aW9uIG9mZmVyJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiwgY3p5IHXFvHl0a293bmlrIGp1xbwgbmllIHrFgm/FvHnFgiBhcGxpa2FjamkgZG8gdGVqIG9mZXJ0eVxyXG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ0FwcCwgZXJyb3I6IGV4aXN0aW5nQXBwRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhcHBsaWNhdGlvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdpZCwgc3RhdHVzJylcclxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcclxuICAgICAgLmVxKCdncm91cF9zdWJfaWQnLCBncm91cFN1YklkKVxyXG4gICAgICAubm90KCdzdGF0dXMnLCAnaW4nLCAnKFwicmVqZWN0ZWRcIixcImNhbmNlbGxlZFwiKScpO1xyXG4gICAgXHJcbiAgICBpZiAoIWV4aXN0aW5nQXBwRXJyb3IgJiYgZXhpc3RpbmdBcHAgJiYgZXhpc3RpbmdBcHAubGVuZ3RoID4gMCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ1lvdSBhbHJlYWR5IGhhdmUgYW4gYWN0aXZlIGFwcGxpY2F0aW9uIGZvciB0aGlzIG9mZmVyJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBVdHfDs3J6IG5vd8SFIGFwbGlrYWNqxJlcclxuICAgIGNvbnN0IHsgZGF0YTogYXBwbGljYXRpb24sIGVycm9yOiBjcmVhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2FwcGxpY2F0aW9ucycpXHJcbiAgICAgIC5pbnNlcnQoe1xyXG4gICAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgZ3JvdXBfc3ViX2lkOiBncm91cFN1YklkLFxyXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UgfHwgJycsXHJcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBpZiAoY3JlYXRlRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgYXBwbGljYXRpb246JywgY3JlYXRlRXJyb3IpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgYXBwbGljYXRpb24nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihhcHBsaWNhdGlvbiwgeyBzdGF0dXM6IDIwMSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gY3JlYXRlIGFwcGxpY2F0aW9uIEFQSTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImN1cnJlbnRVc2VyIiwic3VwYWJhc2UiLCJHRVQiLCJyZXF1ZXN0IiwidXNlciIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImdldCIsImFjdGl2ZSIsInF1ZXJ5IiwiZnJvbSIsInNlbGVjdCIsImVxIiwiaWQiLCJub3QiLCJvcmRlciIsImFzY2VuZGluZyIsImRhdGEiLCJjb25zb2xlIiwiUE9TVCIsImJvZHkiLCJncm91cFN1YklkIiwibWVzc2FnZSIsIm9mZmVyIiwib2ZmZXJFcnJvciIsInNpbmdsZSIsInNsb3RzX2F2YWlsYWJsZSIsImV4aXN0aW5nQXBwIiwiZXhpc3RpbmdBcHBFcnJvciIsImxlbmd0aCIsImFwcGxpY2F0aW9uIiwiY3JlYXRlRXJyb3IiLCJpbnNlcnQiLCJ1c2VyX2lkIiwiZ3JvdXBfc3ViX2lkIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRfYXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/applications/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase-client.js":
/*!************************************!*\
  !*** ./src/lib/supabase-client.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createApplication: () => (/* binding */ createApplication),\n/* harmony export */   createUserProfile: () => (/* binding */ createUserProfile),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getReceivedApplications: () => (/* binding */ getReceivedApplications),\n/* harmony export */   getSubscriptionOffer: () => (/* binding */ getSubscriptionOffer),\n/* harmony export */   getSubscriptionOffers: () => (/* binding */ getSubscriptionOffers),\n/* harmony export */   getSubscriptionPlatforms: () => (/* binding */ getSubscriptionPlatforms),\n/* harmony export */   getUserApplications: () => (/* binding */ getUserApplications),\n/* harmony export */   getUserByAuthId: () => (/* binding */ getUserByAuthId),\n/* harmony export */   handleSupabaseError: () => (/* binding */ handleSupabaseError),\n/* harmony export */   updateApplicationStatus: () => (/* binding */ updateApplicationStatus),\n/* harmony export */   updateUserProfile: () => (/* binding */ updateUserProfile)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n// src/lib/supabase.js\n\n// Initialize the Supabase client\nconst supabaseUrl = \"https://yhokkluyvyohoufmubxz.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlob2trbHV5dnlvaG91Zm11Ynh6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2NzA4NzEsImV4cCI6MjA1OTI0Njg3MX0.RiDRy54pxeXnTAvBn94rOMrVJHlCB6hjMIkb4ZtjyJI\";\n// Check if environment variables are set\nif (!supabaseUrl || !supabaseAnonKey) {\n    console.error(\"Missing environment variables: NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY\");\n}\n// Create a single instance of the Supabase client to reuse across the app\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Helper function to handle Supabase errors consistently\nconst handleSupabaseError = (error)=>{\n    console.error(\"Supabase error:\", error);\n    // Return a standardized error object\n    return {\n        error: true,\n        message: error.message || \"An unexpected error occurred\",\n        code: error.code || \"unknown_error\",\n        details: error.details || null\n    };\n};\n// Function to get a user profile by Clerk auth ID\nconst getUserByAuthId = async (authId)=>{\n    if (!authId) return null;\n    try {\n        const { data, error } = await supabase.from(\"user_profiles\").select(\"*\").eq(\"external_auth_id\", authId).single();\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseError(error);\n        return null;\n    }\n};\n// Function to create a new user profile\nconst createUserProfile = async (userProfile)=>{\n    try {\n        const { data, error } = await supabase.from(\"user_profiles\").insert([\n            userProfile\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseError(error);\n        return null;\n    }\n};\n// Function to update a user profile\nconst updateUserProfile = async (userId, updates)=>{\n    try {\n        const { data, error } = await supabase.from(\"user_profiles\").update(updates).eq(\"id\", userId).select().single();\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseError(error);\n        return null;\n    }\n};\n// Function to get active subscription platforms\nconst getSubscriptionPlatforms = async ()=>{\n    try {\n        const { data, error } = await supabase.from(\"subscription_platforms\").select(\"*\").eq(\"active\", true).order(\"name\");\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseError(error);\n        return [];\n    }\n};\n// Function to get active subscription offers\nconst getSubscriptionOffers = async (filters = {})=>{\n    try {\n        // Start with base query\n        let query = supabase.from(\"group_subs\").select(`\r\n        *,\r\n        subscription_platforms(*),\r\n        groups(id, name),\r\n        owner:groups!inner(owner_id, user_profiles!inner(id, display_name, avatar_url, rating_avg, rating_count, verification_level))\r\n      `).eq(\"status\", \"active\");\n        // Apply filters\n        if (filters.platformId) {\n            query = query.eq(\"platform_id\", filters.platformId);\n        }\n        if (filters.instantAccess === true) {\n            query = query.eq(\"instant_access\", true);\n        }\n        if (filters.minPrice !== undefined) {\n            query = query.gte(\"price_per_slot\", filters.minPrice);\n        }\n        if (filters.maxPrice !== undefined) {\n            query = query.lte(\"price_per_slot\", filters.maxPrice);\n        }\n        if (filters.availableSlots === true) {\n            query = query.gt(\"slots_available\", 0);\n        }\n        // Add ordering\n        const orderBy = filters.orderBy || \"created_at\";\n        const ascending = filters.ascending === true;\n        query = query.order(orderBy, {\n            ascending\n        });\n        // Add pagination\n        if (filters.limit) {\n            query = query.limit(filters.limit);\n        }\n        if (filters.offset) {\n            query = query.range(filters.offset, filters.offset + (filters.limit || 10) - 1);\n        }\n        const { data, error } = await query;\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseError(error);\n        return [];\n    }\n};\n// Function to get a specific subscription offer\nconst getSubscriptionOffer = async (offerId)=>{\n    try {\n        const { data, error } = await supabase.from(\"group_subs\").select(`\r\n        *,\r\n        subscription_platforms(*),\r\n        groups(id, name, description),\r\n        owner:groups!inner(owner_id, user_profiles!inner(id, display_name, avatar_url, rating_avg, rating_count, verification_level, bio))\r\n      `).eq(\"id\", offerId).single();\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseError(error);\n        return null;\n    }\n};\n// Function to create a new application for a subscription\nconst createApplication = async (application)=>{\n    try {\n        const { data, error } = await supabase.from(\"applications\").insert([\n            application\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseError(error);\n        return null;\n    }\n};\n// Function to get user's applications\nconst getUserApplications = async (userId, status = null)=>{\n    try {\n        let query = supabase.from(\"applications\").select(`\r\n        *,\r\n        group_sub:group_subs(\r\n          id, \r\n          price_per_slot,\r\n          currency,\r\n          instant_access,\r\n          subscription_platforms(id, name, icon)\r\n        ),\r\n        seller:group_subs(\r\n          groups(\r\n            owner_id, \r\n            user_profiles!inner(id, display_name, avatar_url)\r\n          )\r\n        )\r\n      `).eq(\"user_id\", userId);\n        // Filter by status if provided\n        if (status) {\n            query = query.eq(\"status\", status);\n        }\n        // Order by created_at descending (newest first)\n        query = query.order(\"created_at\", {\n            ascending: false\n        });\n        const { data, error } = await query;\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseError(error);\n        return [];\n    }\n};\n// Function to get received applications for group subscriptions owned by user\nconst getReceivedApplications = async (userId, status = null)=>{\n    try {\n        let query = supabase.from(\"applications\").select(`\r\n        *,\r\n        group_sub:group_subs!inner(\r\n          id,\r\n          price_per_slot,\r\n          currency,\r\n          instant_access,\r\n          groups!inner(\r\n            id,\r\n            name,\r\n            owner_id\r\n          ),\r\n          subscription_platforms(id, name, icon)\r\n        ),\r\n        applicant:user_profiles!inner(\r\n          id,\r\n          display_name,\r\n          avatar_url,\r\n          rating_avg,\r\n          rating_count\r\n        )\r\n      `).eq(\"group_sub.groups.owner_id\", userId);\n        // Filter by status if provided\n        if (status) {\n            query = query.eq(\"status\", status);\n        }\n        // Order by created_at descending (newest first)\n        query = query.order(\"created_at\", {\n            ascending: false\n        });\n        const { data, error } = await query;\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseError(error);\n        return [];\n    }\n};\n// Function to update application status\nconst updateApplicationStatus = async (applicationId, status)=>{\n    try {\n        const { data, error } = await supabase.from(\"applications\").update({\n            status\n        }).eq(\"id\", applicationId).select().single();\n        if (error) throw error;\n        return data;\n    } catch (error) {\n        handleSupabaseError(error);\n        return null;\n    }\n};\n// Export the Supabase client\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLWNsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0JBQXNCO0FBQytCO0FBRXJELGlDQUFpQztBQUNqQyxNQUFNQyxjQUFjQywwQ0FBb0M7QUFDeEQsTUFBTUcsa0JBQWtCSCxrTkFBeUM7QUFFakUseUNBQXlDO0FBQ3pDLElBQUksQ0FBQ0QsZUFBZSxDQUFDSSxpQkFBaUI7SUFDcENFLFFBQVFDLEtBQUssQ0FDWDtBQUVKO0FBRUEsMEVBQTBFO0FBQzFFLE1BQU1DLFdBQVdULG1FQUFZQSxDQUFDQyxhQUFhSTtBQUUzQyx5REFBeUQ7QUFDbEQsTUFBTUssc0JBQXNCLENBQUNGO0lBQ2xDRCxRQUFRQyxLQUFLLENBQUMsbUJBQW1CQTtJQUVqQyxxQ0FBcUM7SUFDckMsT0FBTztRQUNMQSxPQUFPO1FBQ1BHLFNBQVNILE1BQU1HLE9BQU8sSUFBSTtRQUMxQkMsTUFBTUosTUFBTUksSUFBSSxJQUFJO1FBQ3BCQyxTQUFTTCxNQUFNSyxPQUFPLElBQUk7SUFDNUI7QUFDRixFQUFFO0FBRUYsa0RBQWtEO0FBQzNDLE1BQU1DLGtCQUFrQixPQUFPQztJQUNwQyxJQUFJLENBQUNBLFFBQVEsT0FBTztJQUVwQixJQUFJO1FBQ0YsTUFBTSxFQUFFQyxJQUFJLEVBQUVSLEtBQUssRUFBRSxHQUFHLE1BQU1DLFNBQzNCUSxJQUFJLENBQUMsaUJBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsb0JBQW9CSixRQUN2QkssTUFBTTtRQUVULElBQUlaLE9BQU8sTUFBTUE7UUFFakIsT0FBT1E7SUFDVCxFQUFFLE9BQU9SLE9BQU87UUFDZEUsb0JBQW9CRjtRQUNwQixPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUYsd0NBQXdDO0FBQ2pDLE1BQU1hLG9CQUFvQixPQUFPQztJQUN0QyxJQUFJO1FBQ0YsTUFBTSxFQUFFTixJQUFJLEVBQUVSLEtBQUssRUFBRSxHQUFHLE1BQU1DLFNBQzNCUSxJQUFJLENBQUMsaUJBQ0xNLE1BQU0sQ0FBQztZQUFDRDtTQUFZLEVBQ3BCSixNQUFNLEdBQ05FLE1BQU07UUFFVCxJQUFJWixPQUFPLE1BQU1BO1FBRWpCLE9BQU9RO0lBQ1QsRUFBRSxPQUFPUixPQUFPO1FBQ2RFLG9CQUFvQkY7UUFDcEIsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVGLG9DQUFvQztBQUM3QixNQUFNZ0Isb0JBQW9CLE9BQU9DLFFBQVFDO0lBQzlDLElBQUk7UUFDRixNQUFNLEVBQUVWLElBQUksRUFBRVIsS0FBSyxFQUFFLEdBQUcsTUFBTUMsU0FDM0JRLElBQUksQ0FBQyxpQkFDTFUsTUFBTSxDQUFDRCxTQUNQUCxFQUFFLENBQUMsTUFBTU0sUUFDVFAsTUFBTSxHQUNORSxNQUFNO1FBRVQsSUFBSVosT0FBTyxNQUFNQTtRQUVqQixPQUFPUTtJQUNULEVBQUUsT0FBT1IsT0FBTztRQUNkRSxvQkFBb0JGO1FBQ3BCLE9BQU87SUFDVDtBQUNGLEVBQUU7QUFFRixnREFBZ0Q7QUFDekMsTUFBTW9CLDJCQUEyQjtJQUN0QyxJQUFJO1FBQ0YsTUFBTSxFQUFFWixJQUFJLEVBQUVSLEtBQUssRUFBRSxHQUFHLE1BQU1DLFNBQzNCUSxJQUFJLENBQUMsMEJBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsVUFBVSxNQUNiVSxLQUFLLENBQUM7UUFFVCxJQUFJckIsT0FBTyxNQUFNQTtRQUVqQixPQUFPUTtJQUNULEVBQUUsT0FBT1IsT0FBTztRQUNkRSxvQkFBb0JGO1FBQ3BCLE9BQU8sRUFBRTtJQUNYO0FBQ0YsRUFBRTtBQUVGLDZDQUE2QztBQUN0QyxNQUFNc0Isd0JBQXdCLE9BQU9DLFVBQVUsQ0FBQyxDQUFDO0lBQ3RELElBQUk7UUFDRix3QkFBd0I7UUFDeEIsSUFBSUMsUUFBUXZCLFNBQ1RRLElBQUksQ0FBQyxjQUNMQyxNQUFNLENBQUMsQ0FBQzs7Ozs7TUFLVCxDQUFDLEVBQ0FDLEVBQUUsQ0FBQyxVQUFVO1FBRWhCLGdCQUFnQjtRQUNoQixJQUFJWSxRQUFRRSxVQUFVLEVBQUU7WUFDdEJELFFBQVFBLE1BQU1iLEVBQUUsQ0FBQyxlQUFlWSxRQUFRRSxVQUFVO1FBQ3BEO1FBRUEsSUFBSUYsUUFBUUcsYUFBYSxLQUFLLE1BQU07WUFDbENGLFFBQVFBLE1BQU1iLEVBQUUsQ0FBQyxrQkFBa0I7UUFDckM7UUFFQSxJQUFJWSxRQUFRSSxRQUFRLEtBQUtDLFdBQVc7WUFDbENKLFFBQVFBLE1BQU1LLEdBQUcsQ0FBQyxrQkFBa0JOLFFBQVFJLFFBQVE7UUFDdEQ7UUFFQSxJQUFJSixRQUFRTyxRQUFRLEtBQUtGLFdBQVc7WUFDbENKLFFBQVFBLE1BQU1PLEdBQUcsQ0FBQyxrQkFBa0JSLFFBQVFPLFFBQVE7UUFDdEQ7UUFFQSxJQUFJUCxRQUFRUyxjQUFjLEtBQUssTUFBTTtZQUNuQ1IsUUFBUUEsTUFBTVMsRUFBRSxDQUFDLG1CQUFtQjtRQUN0QztRQUVBLGVBQWU7UUFDZixNQUFNQyxVQUFVWCxRQUFRVyxPQUFPLElBQUk7UUFDbkMsTUFBTUMsWUFBWVosUUFBUVksU0FBUyxLQUFLO1FBQ3hDWCxRQUFRQSxNQUFNSCxLQUFLLENBQUNhLFNBQVM7WUFBRUM7UUFBVTtRQUV6QyxpQkFBaUI7UUFDakIsSUFBSVosUUFBUWEsS0FBSyxFQUFFO1lBQ2pCWixRQUFRQSxNQUFNWSxLQUFLLENBQUNiLFFBQVFhLEtBQUs7UUFDbkM7UUFFQSxJQUFJYixRQUFRYyxNQUFNLEVBQUU7WUFDbEJiLFFBQVFBLE1BQU1jLEtBQUssQ0FBQ2YsUUFBUWMsTUFBTSxFQUFFZCxRQUFRYyxNQUFNLEdBQUlkLENBQUFBLFFBQVFhLEtBQUssSUFBSSxFQUFDLElBQUs7UUFDL0U7UUFFQSxNQUFNLEVBQUU1QixJQUFJLEVBQUVSLEtBQUssRUFBRSxHQUFHLE1BQU13QjtRQUU5QixJQUFJeEIsT0FBTyxNQUFNQTtRQUVqQixPQUFPUTtJQUNULEVBQUUsT0FBT1IsT0FBTztRQUNkRSxvQkFBb0JGO1FBQ3BCLE9BQU8sRUFBRTtJQUNYO0FBQ0YsRUFBRTtBQUVGLGdEQUFnRDtBQUN6QyxNQUFNdUMsdUJBQXVCLE9BQU9DO0lBQ3pDLElBQUk7UUFDRixNQUFNLEVBQUVoQyxJQUFJLEVBQUVSLEtBQUssRUFBRSxHQUFHLE1BQU1DLFNBQzNCUSxJQUFJLENBQUMsY0FDTEMsTUFBTSxDQUFDLENBQUM7Ozs7O01BS1QsQ0FBQyxFQUNBQyxFQUFFLENBQUMsTUFBTTZCLFNBQ1Q1QixNQUFNO1FBRVQsSUFBSVosT0FBTyxNQUFNQTtRQUVqQixPQUFPUTtJQUNULEVBQUUsT0FBT1IsT0FBTztRQUNkRSxvQkFBb0JGO1FBQ3BCLE9BQU87SUFDVDtBQUNGLEVBQUU7QUFFRiwwREFBMEQ7QUFDbkQsTUFBTXlDLG9CQUFvQixPQUFPQztJQUN0QyxJQUFJO1FBQ0YsTUFBTSxFQUFFbEMsSUFBSSxFQUFFUixLQUFLLEVBQUUsR0FBRyxNQUFNQyxTQUMzQlEsSUFBSSxDQUFDLGdCQUNMTSxNQUFNLENBQUM7WUFBQzJCO1NBQVksRUFDcEJoQyxNQUFNLEdBQ05FLE1BQU07UUFFVCxJQUFJWixPQUFPLE1BQU1BO1FBRWpCLE9BQU9RO0lBQ1QsRUFBRSxPQUFPUixPQUFPO1FBQ2RFLG9CQUFvQkY7UUFDcEIsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVGLHNDQUFzQztBQUMvQixNQUFNMkMsc0JBQXNCLE9BQU8xQixRQUFRMkIsU0FBUyxJQUFJO0lBQzdELElBQUk7UUFDRixJQUFJcEIsUUFBUXZCLFNBQ1RRLElBQUksQ0FBQyxnQkFDTEMsTUFBTSxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7OztNQWVULENBQUMsRUFDQUMsRUFBRSxDQUFDLFdBQVdNO1FBRWpCLCtCQUErQjtRQUMvQixJQUFJMkIsUUFBUTtZQUNWcEIsUUFBUUEsTUFBTWIsRUFBRSxDQUFDLFVBQVVpQztRQUM3QjtRQUVBLGdEQUFnRDtRQUNoRHBCLFFBQVFBLE1BQU1ILEtBQUssQ0FBQyxjQUFjO1lBQUVjLFdBQVc7UUFBTTtRQUVyRCxNQUFNLEVBQUUzQixJQUFJLEVBQUVSLEtBQUssRUFBRSxHQUFHLE1BQU13QjtRQUU5QixJQUFJeEIsT0FBTyxNQUFNQTtRQUVqQixPQUFPUTtJQUNULEVBQUUsT0FBT1IsT0FBTztRQUNkRSxvQkFBb0JGO1FBQ3BCLE9BQU8sRUFBRTtJQUNYO0FBQ0YsRUFBRTtBQUVGLDhFQUE4RTtBQUN2RSxNQUFNNkMsMEJBQTBCLE9BQU81QixRQUFRMkIsU0FBUyxJQUFJO0lBQ2pFLElBQUk7UUFDRixJQUFJcEIsUUFBUXZCLFNBQ1RRLElBQUksQ0FBQyxnQkFDTEMsTUFBTSxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztNQXFCVCxDQUFDLEVBQ0FDLEVBQUUsQ0FBQyw2QkFBNkJNO1FBRW5DLCtCQUErQjtRQUMvQixJQUFJMkIsUUFBUTtZQUNWcEIsUUFBUUEsTUFBTWIsRUFBRSxDQUFDLFVBQVVpQztRQUM3QjtRQUVBLGdEQUFnRDtRQUNoRHBCLFFBQVFBLE1BQU1ILEtBQUssQ0FBQyxjQUFjO1lBQUVjLFdBQVc7UUFBTTtRQUVyRCxNQUFNLEVBQUUzQixJQUFJLEVBQUVSLEtBQUssRUFBRSxHQUFHLE1BQU13QjtRQUU5QixJQUFJeEIsT0FBTyxNQUFNQTtRQUVqQixPQUFPUTtJQUNULEVBQUUsT0FBT1IsT0FBTztRQUNkRSxvQkFBb0JGO1FBQ3BCLE9BQU8sRUFBRTtJQUNYO0FBQ0YsRUFBRTtBQUVGLHdDQUF3QztBQUNqQyxNQUFNOEMsMEJBQTBCLE9BQU9DLGVBQWVIO0lBQzNELElBQUk7UUFDRixNQUFNLEVBQUVwQyxJQUFJLEVBQUVSLEtBQUssRUFBRSxHQUFHLE1BQU1DLFNBQzNCUSxJQUFJLENBQUMsZ0JBQ0xVLE1BQU0sQ0FBQztZQUFFeUI7UUFBTyxHQUNoQmpDLEVBQUUsQ0FBQyxNQUFNb0MsZUFDVHJDLE1BQU0sR0FDTkUsTUFBTTtRQUVULElBQUlaLE9BQU8sTUFBTUE7UUFFakIsT0FBT1E7SUFDVCxFQUFFLE9BQU9SLE9BQU87UUFDZEUsb0JBQW9CRjtRQUNwQixPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUYsNkJBQTZCO0FBQzdCLGlFQUFlQyxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JvdXBzaGFyZS1wcm9qZWN0Ly4vc3JjL2xpYi9zdXBhYmFzZS1jbGllbnQuanM/NmIyOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL3N1cGFiYXNlLmpzXHJcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XHJcblxyXG4vLyBJbml0aWFsaXplIHRoZSBTdXBhYmFzZSBjbGllbnRcclxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XHJcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xyXG5cclxuLy8gQ2hlY2sgaWYgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBzZXRcclxuaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VBbm9uS2V5KSB7XHJcbiAgY29uc29sZS5lcnJvcihcclxuICAgICdNaXNzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlczogTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIG9yIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZJ1xyXG4gICk7XHJcbn1cclxuXHJcbi8vIENyZWF0ZSBhIHNpbmdsZSBpbnN0YW5jZSBvZiB0aGUgU3VwYWJhc2UgY2xpZW50IHRvIHJldXNlIGFjcm9zcyB0aGUgYXBwXHJcbmNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpO1xyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGhhbmRsZSBTdXBhYmFzZSBlcnJvcnMgY29uc2lzdGVudGx5XHJcbmV4cG9ydCBjb25zdCBoYW5kbGVTdXBhYmFzZUVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gIFxyXG4gIC8vIFJldHVybiBhIHN0YW5kYXJkaXplZCBlcnJvciBvYmplY3RcclxuICByZXR1cm4ge1xyXG4gICAgZXJyb3I6IHRydWUsXHJcbiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJyxcclxuICAgIGNvZGU6IGVycm9yLmNvZGUgfHwgJ3Vua25vd25fZXJyb3InLFxyXG4gICAgZGV0YWlsczogZXJyb3IuZGV0YWlscyB8fCBudWxsLFxyXG4gIH07XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byBnZXQgYSB1c2VyIHByb2ZpbGUgYnkgQ2xlcmsgYXV0aCBJRFxyXG5leHBvcnQgY29uc3QgZ2V0VXNlckJ5QXV0aElkID0gYXN5bmMgKGF1dGhJZCkgPT4ge1xyXG4gIGlmICghYXV0aElkKSByZXR1cm4gbnVsbDtcclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdleHRlcm5hbF9hdXRoX2lkJywgYXV0aElkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBoYW5kbGVTdXBhYmFzZUVycm9yKGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyB1c2VyIHByb2ZpbGVcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVzZXJQcm9maWxlID0gYXN5bmMgKHVzZXJQcm9maWxlKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcclxuICAgICAgLmluc2VydChbdXNlclByb2ZpbGVdKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgaGFuZGxlU3VwYWJhc2VFcnJvcihlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byB1cGRhdGUgYSB1c2VyIHByb2ZpbGVcclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJQcm9maWxlID0gYXN5bmMgKHVzZXJJZCwgdXBkYXRlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIHVzZXJJZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGhhbmRsZVN1cGFiYXNlRXJyb3IoZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gZ2V0IGFjdGl2ZSBzdWJzY3JpcHRpb24gcGxhdGZvcm1zXHJcbmV4cG9ydCBjb25zdCBnZXRTdWJzY3JpcHRpb25QbGF0Zm9ybXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdzdWJzY3JpcHRpb25fcGxhdGZvcm1zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnYWN0aXZlJywgdHJ1ZSlcclxuICAgICAgLm9yZGVyKCduYW1lJyk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBoYW5kbGVTdXBhYmFzZUVycm9yKGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byBnZXQgYWN0aXZlIHN1YnNjcmlwdGlvbiBvZmZlcnNcclxuZXhwb3J0IGNvbnN0IGdldFN1YnNjcmlwdGlvbk9mZmVycyA9IGFzeW5jIChmaWx0ZXJzID0ge30pID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gU3RhcnQgd2l0aCBiYXNlIHF1ZXJ5XHJcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnZ3JvdXBfc3VicycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICosXHJcbiAgICAgICAgc3Vic2NyaXB0aW9uX3BsYXRmb3JtcygqKSxcclxuICAgICAgICBncm91cHMoaWQsIG5hbWUpLFxyXG4gICAgICAgIG93bmVyOmdyb3VwcyFpbm5lcihvd25lcl9pZCwgdXNlcl9wcm9maWxlcyFpbm5lcihpZCwgZGlzcGxheV9uYW1lLCBhdmF0YXJfdXJsLCByYXRpbmdfYXZnLCByYXRpbmdfY291bnQsIHZlcmlmaWNhdGlvbl9sZXZlbCkpXHJcbiAgICAgIGApXHJcbiAgICAgIC5lcSgnc3RhdHVzJywgJ2FjdGl2ZScpO1xyXG4gICAgXHJcbiAgICAvLyBBcHBseSBmaWx0ZXJzXHJcbiAgICBpZiAoZmlsdGVycy5wbGF0Zm9ybUlkKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3BsYXRmb3JtX2lkJywgZmlsdGVycy5wbGF0Zm9ybUlkKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGZpbHRlcnMuaW5zdGFudEFjY2VzcyA9PT0gdHJ1ZSkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdpbnN0YW50X2FjY2VzcycsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZmlsdGVycy5taW5QcmljZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZ3RlKCdwcmljZV9wZXJfc2xvdCcsIGZpbHRlcnMubWluUHJpY2UpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZmlsdGVycy5tYXhQcmljZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkubHRlKCdwcmljZV9wZXJfc2xvdCcsIGZpbHRlcnMubWF4UHJpY2UpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZmlsdGVycy5hdmFpbGFibGVTbG90cyA9PT0gdHJ1ZSkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5Lmd0KCdzbG90c19hdmFpbGFibGUnLCAwKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQWRkIG9yZGVyaW5nXHJcbiAgICBjb25zdCBvcmRlckJ5ID0gZmlsdGVycy5vcmRlckJ5IHx8ICdjcmVhdGVkX2F0JztcclxuICAgIGNvbnN0IGFzY2VuZGluZyA9IGZpbHRlcnMuYXNjZW5kaW5nID09PSB0cnVlO1xyXG4gICAgcXVlcnkgPSBxdWVyeS5vcmRlcihvcmRlckJ5LCB7IGFzY2VuZGluZyB9KTtcclxuICAgIFxyXG4gICAgLy8gQWRkIHBhZ2luYXRpb25cclxuICAgIGlmIChmaWx0ZXJzLmxpbWl0KSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkubGltaXQoZmlsdGVycy5saW1pdCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChmaWx0ZXJzLm9mZnNldCkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LnJhbmdlKGZpbHRlcnMub2Zmc2V0LCBmaWx0ZXJzLm9mZnNldCArIChmaWx0ZXJzLmxpbWl0IHx8IDEwKSAtIDEpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGhhbmRsZVN1cGFiYXNlRXJyb3IoZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGdldCBhIHNwZWNpZmljIHN1YnNjcmlwdGlvbiBvZmZlclxyXG5leHBvcnQgY29uc3QgZ2V0U3Vic2NyaXB0aW9uT2ZmZXIgPSBhc3luYyAob2ZmZXJJZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnZ3JvdXBfc3VicycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICosXHJcbiAgICAgICAgc3Vic2NyaXB0aW9uX3BsYXRmb3JtcygqKSxcclxuICAgICAgICBncm91cHMoaWQsIG5hbWUsIGRlc2NyaXB0aW9uKSxcclxuICAgICAgICBvd25lcjpncm91cHMhaW5uZXIob3duZXJfaWQsIHVzZXJfcHJvZmlsZXMhaW5uZXIoaWQsIGRpc3BsYXlfbmFtZSwgYXZhdGFyX3VybCwgcmF0aW5nX2F2ZywgcmF0aW5nX2NvdW50LCB2ZXJpZmljYXRpb25fbGV2ZWwsIGJpbykpXHJcbiAgICAgIGApXHJcbiAgICAgIC5lcSgnaWQnLCBvZmZlcklkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBoYW5kbGVTdXBhYmFzZUVycm9yKGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvbiBmb3IgYSBzdWJzY3JpcHRpb25cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUFwcGxpY2F0aW9uID0gYXN5bmMgKGFwcGxpY2F0aW9uKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhcHBsaWNhdGlvbnMnKVxyXG4gICAgICAuaW5zZXJ0KFthcHBsaWNhdGlvbl0pXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBoYW5kbGVTdXBhYmFzZUVycm9yKGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGdldCB1c2VyJ3MgYXBwbGljYXRpb25zXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VyQXBwbGljYXRpb25zID0gYXN5bmMgKHVzZXJJZCwgc3RhdHVzID0gbnVsbCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnYXBwbGljYXRpb25zJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgKixcclxuICAgICAgICBncm91cF9zdWI6Z3JvdXBfc3VicyhcclxuICAgICAgICAgIGlkLCBcclxuICAgICAgICAgIHByaWNlX3Blcl9zbG90LFxyXG4gICAgICAgICAgY3VycmVuY3ksXHJcbiAgICAgICAgICBpbnN0YW50X2FjY2VzcyxcclxuICAgICAgICAgIHN1YnNjcmlwdGlvbl9wbGF0Zm9ybXMoaWQsIG5hbWUsIGljb24pXHJcbiAgICAgICAgKSxcclxuICAgICAgICBzZWxsZXI6Z3JvdXBfc3VicyhcclxuICAgICAgICAgIGdyb3VwcyhcclxuICAgICAgICAgICAgb3duZXJfaWQsIFxyXG4gICAgICAgICAgICB1c2VyX3Byb2ZpbGVzIWlubmVyKGlkLCBkaXNwbGF5X25hbWUsIGF2YXRhcl91cmwpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICBgKVxyXG4gICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpO1xyXG4gICAgXHJcbiAgICAvLyBGaWx0ZXIgYnkgc3RhdHVzIGlmIHByb3ZpZGVkXHJcbiAgICBpZiAoc3RhdHVzKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3N0YXR1cycsIHN0YXR1cyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE9yZGVyIGJ5IGNyZWF0ZWRfYXQgZGVzY2VuZGluZyAobmV3ZXN0IGZpcnN0KVxyXG4gICAgcXVlcnkgPSBxdWVyeS5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBoYW5kbGVTdXBhYmFzZUVycm9yKGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byBnZXQgcmVjZWl2ZWQgYXBwbGljYXRpb25zIGZvciBncm91cCBzdWJzY3JpcHRpb25zIG93bmVkIGJ5IHVzZXJcclxuZXhwb3J0IGNvbnN0IGdldFJlY2VpdmVkQXBwbGljYXRpb25zID0gYXN5bmMgKHVzZXJJZCwgc3RhdHVzID0gbnVsbCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnYXBwbGljYXRpb25zJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgKixcclxuICAgICAgICBncm91cF9zdWI6Z3JvdXBfc3VicyFpbm5lcihcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgcHJpY2VfcGVyX3Nsb3QsXHJcbiAgICAgICAgICBjdXJyZW5jeSxcclxuICAgICAgICAgIGluc3RhbnRfYWNjZXNzLFxyXG4gICAgICAgICAgZ3JvdXBzIWlubmVyKFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgb3duZXJfaWRcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICBzdWJzY3JpcHRpb25fcGxhdGZvcm1zKGlkLCBuYW1lLCBpY29uKVxyXG4gICAgICAgICksXHJcbiAgICAgICAgYXBwbGljYW50OnVzZXJfcHJvZmlsZXMhaW5uZXIoXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIGRpc3BsYXlfbmFtZSxcclxuICAgICAgICAgIGF2YXRhcl91cmwsXHJcbiAgICAgICAgICByYXRpbmdfYXZnLFxyXG4gICAgICAgICAgcmF0aW5nX2NvdW50XHJcbiAgICAgICAgKVxyXG4gICAgICBgKVxyXG4gICAgICAuZXEoJ2dyb3VwX3N1Yi5ncm91cHMub3duZXJfaWQnLCB1c2VySWQpO1xyXG4gICAgXHJcbiAgICAvLyBGaWx0ZXIgYnkgc3RhdHVzIGlmIHByb3ZpZGVkXHJcbiAgICBpZiAoc3RhdHVzKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3N0YXR1cycsIHN0YXR1cyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE9yZGVyIGJ5IGNyZWF0ZWRfYXQgZGVzY2VuZGluZyAobmV3ZXN0IGZpcnN0KVxyXG4gICAgcXVlcnkgPSBxdWVyeS5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBoYW5kbGVTdXBhYmFzZUVycm9yKGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byB1cGRhdGUgYXBwbGljYXRpb24gc3RhdHVzXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVBcHBsaWNhdGlvblN0YXR1cyA9IGFzeW5jIChhcHBsaWNhdGlvbklkLCBzdGF0dXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2FwcGxpY2F0aW9ucycpXHJcbiAgICAgIC51cGRhdGUoeyBzdGF0dXMgfSlcclxuICAgICAgLmVxKCdpZCcsIGFwcGxpY2F0aW9uSWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBoYW5kbGVTdXBhYmFzZUVycm9yKGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEV4cG9ydCB0aGUgU3VwYWJhc2UgY2xpZW50XHJcbmV4cG9ydCBkZWZhdWx0IHN1cGFiYXNlO1xyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJjb25zb2xlIiwiZXJyb3IiLCJzdXBhYmFzZSIsImhhbmRsZVN1cGFiYXNlRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImRldGFpbHMiLCJnZXRVc2VyQnlBdXRoSWQiLCJhdXRoSWQiLCJkYXRhIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiY3JlYXRlVXNlclByb2ZpbGUiLCJ1c2VyUHJvZmlsZSIsImluc2VydCIsInVwZGF0ZVVzZXJQcm9maWxlIiwidXNlcklkIiwidXBkYXRlcyIsInVwZGF0ZSIsImdldFN1YnNjcmlwdGlvblBsYXRmb3JtcyIsIm9yZGVyIiwiZ2V0U3Vic2NyaXB0aW9uT2ZmZXJzIiwiZmlsdGVycyIsInF1ZXJ5IiwicGxhdGZvcm1JZCIsImluc3RhbnRBY2Nlc3MiLCJtaW5QcmljZSIsInVuZGVmaW5lZCIsImd0ZSIsIm1heFByaWNlIiwibHRlIiwiYXZhaWxhYmxlU2xvdHMiLCJndCIsIm9yZGVyQnkiLCJhc2NlbmRpbmciLCJsaW1pdCIsIm9mZnNldCIsInJhbmdlIiwiZ2V0U3Vic2NyaXB0aW9uT2ZmZXIiLCJvZmZlcklkIiwiY3JlYXRlQXBwbGljYXRpb24iLCJhcHBsaWNhdGlvbiIsImdldFVzZXJBcHBsaWNhdGlvbnMiLCJzdGF0dXMiLCJnZXRSZWNlaXZlZEFwcGxpY2F0aW9ucyIsInVwZGF0ZUFwcGxpY2F0aW9uU3RhdHVzIiwiYXBwbGljYXRpb25JZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase-client.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@clerk","vendor-chunks/next","vendor-chunks/tslib","vendor-chunks/cookie","vendor-chunks/map-obj","vendor-chunks/no-case","vendor-chunks/lower-case","vendor-chunks/snakecase-keys","vendor-chunks/snake-case","vendor-chunks/dot-case","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fapplications%2Froute&page=%2Fapi%2Fapplications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fapplications%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShare%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();